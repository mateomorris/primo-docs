{"site":{"id":"cd39839c-d242-4652-b902-768f8e669563","name":"Primo Docs","url":"primo-docs","code":{"js":"","css":"@import url(\"https://unpkg.com/@primo-app/primo@1.3.64/reset.css\");\n@import url(https://fonts.bunny.net/css?family=archivo:200,300,300i,400,400i,500,500i,600,600i,700,700i|inter:300,400,500,600,700,800);\n\nhtml {\n  /* Colors */\n  --color-accent: #35d994;\n\n  /* Default property values */\n  --background: #111;\n  --color: #c2c2c2;\n  --padding: 2rem;\n  --box-shadow: 0px 4px 30px rgba(0, 0, 0, 0.2);\n  --border-radius: 8px;\n  --max-width: 1200px;\n  --border-color: #333;\n  --transition-time: 0.1s;\n  --transition: var(--transition-time) color,\n    var(--transition-time) background-color, var(--transition-time) border-color,\n    var(--transition-time) text-decoration-color,\n    var(--transition-time) box-shadow, var(--transtion-time) transform;\n}\n\n#page {\n  font-family: \"Inter\", sans-serif;\n  color: var(--color);\n  line-height: 1.6;\n  font-size: 1rem;\n  background: #111;\n  font-weight: 300;\n}\n\n.content {\n  max-width: var(--max-width);\n  margin: 0 auto;\n  padding: var(--padding);\n\n  img {\n    width: 100%;\n    margin: 2rem 0;\n    box-shadow: var(--box-shadow);\n    border-radius: var(--border-radius);\n  }\n\n  p {\n    padding: 0.25rem 0;\n    line-height: 1.5;\n    color: var(--color);\n  }\n  strong {\n    font-weight: 500;\n    color: white;\n  }\n\n  a {\n    text-decoration: underline;\n  }\n\n  h1 {\n    line-height: 1.2;\n    font-size: 2.25rem;\n    font-weight: 500;\n    margin-bottom: 0.5rem;\n    color: white;\n  }\n\n  h2 {\n    font-size: 1.75rem;\n    font-weight: 500;\n    margin-bottom: 0.5rem;\n    margin-top: 2rem;\n    color: white;\n  }\n\n  h3 {\n    font-size: 1.5rem;\n    font-weight: 500;\n    margin-bottom: 0.25rem;\n    margin-top: 1rem;\n    color: white;\n  }\n\n  h4 {\n    font-size: 1.15rem;\n    font-weight: 500;\n    margin-bottom: 0.25rem;\n    margin-top: 1rem;\n    color: white;\n  }\n\n  h5 {\n    font-size: 1rem;\n    font-weight: 500;\n    margin-bottom: 0.25rem;\n    margin-top: 1rem;\n    color: white;\n  }\n\n  ul {\n    list-style: disc;\n    padding: 0.5rem 0;\n    padding-left: 1.25rem;\n  }\n\n  ol {\n    list-style: decimal;\n    padding: 0.5rem 0;\n    padding-left: 1.25rem;\n  }\n\n  blockquote {\n    border: 1px solid #222;\n    margin: 1rem 0;\n    padding: 2rem;\n    box-shadow: var(--box-shadow);\n    border-radius: var(--border-radius);\n  }\n\n  /*   pre {\n    padding: 2rem;\n    background: #222;\n    border-radius: 0.25rem;\n    margin-bottom: 2rem;\n    margin-top: 1em;\n  } */\n}\n\n.section-container {\n  max-width: var(--max-width, 1200px);\n  margin: 0 auto;\n  padding: 3rem var(--padding, 1rem);\n}\n\n.heading {\n  font-size: 3rem;\n  line-height: 1;\n  font-weight: 500;\n  margin: 0;\n}\n\n.button {\n  color: white;\n  background: var(--color-accent);\n  border-radius: 5px;\n  padding: 8px 20px;\n  transition: var(--transition);\n\n  &:hover {\n    box-shadow: 0 0 10px 5px rgba(0, 0, 0, 0.1);\n  }\n\n  &.inverted {\n    background: transparent;\n    color: var(--color-accent);\n    border: 2px solid var(--color-accent);\n  }\n}\n","html":{"head":"<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"> \n<meta charset=\"UTF-8\">\n<link rel=\"shortcut icon\" type=\"image/png\" href=\"https://res.cloudinary.com/primoaf/image/upload/v1659676914/favicon_roaxv0.png\"/>\n","below":""}},"fields":[],"content":{"en":{}}},"pages":[{"id":"9926d51d-4e2a-403d-b94f-6b3cfcf11f7f","url":"getting-started","name":"Getting Started","code":{"js":"","css":"","html":{"head":"<title>{title}</title>\n<meta name=\"description\" content={description} />","below":""}},"fields":[{"id":"vaegu","key":"title","type":"text","label":"Title","value":"Primo Docs: Getting Started","fields":[],"options":{}},{"id":"ecmza","key":"description","type":"text","label":"Description","value":"You can download Primo as a desktop application or host it from any static host. ","fields":[],"options":{}}],"content":{"en":{"title":"Primo Docs: Getting Started","description":"You can download Primo as a desktop application or host it from any static host. "}},"site":"cd39839c-d242-4652-b902-768f8e669563","parent":null},{"id":"761d7e7e-e6dc-4210-97ed-2e4faab2cb38","url":"development","name":"Development","code":{"js":"","css":"","html":{"head":"<title>{title}</title>\n<meta name=\"description\" content={description} /> ","below":""}},"fields":[{"id":"oqark","key":"title","type":"text","label":"Title","value":"Primo Docs: Development","fields":[],"options":{}},{"id":"mpjgh","key":"description","type":"text","label":"Description","value":"","fields":[],"options":{}}],"content":{"en":{"title":"Primo Docs: Development","description":""}},"site":"cd39839c-d242-4652-b902-768f8e669563","parent":null},{"id":"f71580a8-89f6-4728-a43a-94cd7a83b26f","url":"how-to-store-page-content-on-github","name":"How to store page content on Github","code":{"js":"","css":"","html":{"head":"<title>{title}</title>\n<meta name=\"description\" content={description} /> ","below":""}},"fields":[{"id":"oqark","key":"title","type":"text","label":"Title","fields":[],"options":{}},{"id":"mpjgh","key":"description","type":"text","label":"Description","fields":[],"options":{}}],"content":{"en":{"title":"Primo Docs: How to store page content on Github","description":""}},"site":"cd39839c-d242-4652-b902-768f8e669563","parent":"092114f6-8259-4f21-8c08-3e5dfcfe2e47"},{"id":"1c9be6db-9636-4cb1-8dd4-ce7677eda58d","url":"using-external-svelte-components","name":"Using external Svelte components","code":{"js":"","css":"","html":{"head":"<title>{title}</title>\n<meta name=\"description\" content={description} /> ","below":""}},"fields":[{"id":"oqark","key":"title","type":"text","label":"Title","fields":[],"options":{}},{"id":"mpjgh","key":"description","type":"text","label":"Description","fields":[],"options":{}}],"content":{"en":{"title":"Primo Docs: Using external Svelte components","description":""}},"site":"cd39839c-d242-4652-b902-768f8e669563","parent":"092114f6-8259-4f21-8c08-3e5dfcfe2e47"},{"id":"092114f6-8259-4f21-8c08-3e5dfcfe2e47","url":"guides","name":"Guides","code":{"js":"","css":"","html":{"head":"<title>{title}</title>\n<meta name=\"description\" content={description} /> ","below":""}},"fields":[{"id":"oqark","key":"title","type":"text","label":"Title","fields":[],"options":{}},{"id":"mpjgh","key":"description","type":"text","label":"Description","fields":[],"options":{}}],"content":{"en":{"title":"Primo Docs: Publishing","description":""}},"site":"cd39839c-d242-4652-b902-768f8e669563","parent":null},{"id":"f8a3a5a4-1e53-4777-b22f-697677a7d6d5","url":"how-to-use-primo-headless","name":"How to use Primo headless","code":{"js":"","css":"","html":{"head":"<title>{title}</title>\n<meta name=\"description\" content={description} /> ","below":""}},"fields":[{"id":"oqark","key":"title","type":"text","label":"Title","fields":[],"options":{}},{"id":"mpjgh","key":"description","type":"text","label":"Description","fields":[],"options":{}}],"content":{"en":{"title":"Primo Docs: How to use Primo Headless","description":""}},"site":"cd39839c-d242-4652-b902-768f8e669563","parent":"092114f6-8259-4f21-8c08-3e5dfcfe2e47"},{"id":"af718e25-d657-4883-8d3b-78261040835f","url":"how-to-serve-primo-pages-from-sveltekit","name":"How to serve Primo pages from SvelteKit","code":{"js":"","css":"","html":{"head":"<title>{title}</title>\n<meta name=\"description\" content={description} /> ","below":""}},"fields":[{"id":"oqark","key":"title","type":"text","label":"Title","fields":[],"options":{}},{"id":"mpjgh","key":"description","type":"text","label":"Description","fields":[],"options":{}}],"content":{"en":{"title":"Primo Docs: How to serve Primo pages from SvelteKit","description":""}},"site":"cd39839c-d242-4652-b902-768f8e669563","parent":"092114f6-8259-4f21-8c08-3e5dfcfe2e47"},{"id":"82a1e2ef-e867-42dc-a3e5-e9ea4bfb3a7f","url":"publishing","name":"Publishing","code":{"js":"","css":"","html":{"head":"<title>{title}</title>\n<meta name=\"description\" content={description} /> ","below":""}},"fields":[{"id":"oqark","key":"title","type":"text","label":"Title","fields":[],"options":{}},{"id":"mpjgh","key":"description","type":"text","label":"Description","fields":[],"options":{}}],"content":{"en":{"title":"Primo Docs: Publishing","description":""}},"site":"cd39839c-d242-4652-b902-768f8e669563","parent":null},{"id":"f68c0ff7-5298-4514-a035-a9fb198aea66","url":"index","name":"Introduction","code":{"js":"","css":"","html":{"head":"<title>{title}</title>\n<meta name=\"description\" content={description} />","below":""}},"fields":[{"id":"hmllu","key":"title","type":"text","label":"Title","value":"Primo Docs","fields":[],"options":{}},{"id":"sjjwb","key":"description","type":"text","label":"Description","value":"Primo is a free & open source, component-based CMS that makes it easy to build visually-editable static sites.","fields":[],"options":{}}],"content":{"en":{"title":"Primo Docs","description":"Primo is a free & open source, component-based CMS that makes it easy to build visually-editable static sites."}},"site":"cd39839c-d242-4652-b902-768f8e669563","parent":null},{"id":"26c2fe38-83b5-44f0-9b1f-3e1626dcdc04","url":"templating","name":"Templating","code":{"js":"","css":"","html":{"head":"<title>{title}</title>\n<meta name=\"description\" content={description} />","below":""}},"fields":[{"id":"vaegu","key":"title","type":"text","label":"Title","value":"Primo Docs: Getting Started","fields":[],"options":{}},{"id":"ecmza","key":"description","type":"text","label":"Description","value":"You can download Primo as a desktop application or host it from any static host. ","fields":[],"options":{}}],"content":{"en":{"title":"Primo Docs: Getting Started","description":"You can download Primo as a desktop application or host it from any static host. "}},"site":"cd39839c-d242-4652-b902-768f8e669563","parent":null}],"sections":[{"id":"3c334e57-d41d-487c-aa47-5a915a7b2fbb","content":{"en":{"nav":[{"link":{"url":"/","label":"Introduction"}},{"link":{"url":"/getting-started","label":"Getting Started"}},{"link":{"url":"/development","label":"Development"}},{"link":{"url":"/publishing","label":"Publishing"}}],"secondary_logo":{"url":"http://localhost:5173/primo-docs","label":"docs"}}},"page":"9926d51d-4e2a-403d-b94f-6b3cfcf11f7f","symbol":"a7332832-1c91-4fe4-9308-da5710b57686","index":0},{"id":"092ada91-5fa2-4be0-b20d-446125bb9a38","content":{"en":{"content":{"html":"","markdown":""},"video_id":"LEcKmhJsUzo","github_markdown_file":"https://raw.githubusercontent.com/primocms/docs/main/getting-started.md"}},"page":"9926d51d-4e2a-403d-b94f-6b3cfcf11f7f","symbol":"9aaca21c-4e7a-41d5-a03b-98dc08754b0f","index":1},{"id":"daee91c7-bb03-4ef4-94d8-444dc0a85165","content":{"en":{"nav":[{"link":{"url":"/getting-started","label":"Getting Started"}},{"link":{"url":"/development","label":"Development"}},{"link":{"url":"/publishing","label":"Publishing"}}],"secondary_logo":{"url":"http://localhost:5173/primo-docs","label":"docs"}}},"page":"761d7e7e-e6dc-4210-97ed-2e4faab2cb38","symbol":"a7332832-1c91-4fe4-9308-da5710b57686","index":0},{"id":"40e8c7af-66bc-4eb1-980d-e56ff98159e9","content":{"en":{"content":{"html":"","markdown":""},"video_id":"","github_markdown_file":"https://raw.githubusercontent.com/primocms/docs/main/development.md"}},"page":"761d7e7e-e6dc-4210-97ed-2e4faab2cb38","symbol":"9aaca21c-4e7a-41d5-a03b-98dc08754b0f","index":1},{"id":"7cf1ea69-2b4c-4ca8-97df-ced98b9ff46a","content":{"en":{"nav":[{"link":{"url":"/getting-started","label":"Getting Started"}},{"link":{"url":"/development","label":"Development"}},{"link":{"url":"/","label":"Content Management"}}],"secondary_logo":{"url":"http://localhost:5173/primo-docs","label":"docs"}}},"page":"f71580a8-89f6-4728-a43a-94cd7a83b26f","symbol":"a7332832-1c91-4fe4-9308-da5710b57686","index":0},{"id":"fe32e1e5-b0a1-47ab-9338-debb020aae2f","content":{"en":{}},"page":"f71580a8-89f6-4728-a43a-94cd7a83b26f","symbol":"f3ebdadb-9df4-4840-bc05-7b7c73f0c9ba","index":1},{"id":"2e03442a-1554-44ec-af2a-93a1879c0013","content":{"en":{"content":{"html":"<h1>How to store page content on Github</h1><p>Storing content in a Github repository enables you to collaborate, version, and manage it more easily. Docs sites like this one typically commit their content to Git especially to easily enable contributions and edits.</p><p>In the same way that you can fetch content from pages on other Primo sites, you can also fetch content from other sources - including a Github repository. Instead of having to utilize Github's API, we can easily grab content directly from the Markdown files by fetching their raw urls.</p><p>This approach allows you to build, develop, and manage your site in Primo, while committing some subset of pages to a separate repository where they can be collaborated on and versioned. For instance - on this site, the main pages are stored in a repo and the guides are fully managed from Primo.</p>","markdown":"# How to store page content on Github\n\nStoring content in a Github repository enables you to collaborate, version, and manage it more easily. Docs sites like this one typically commit their content to Git especially to easily enable contributions and edits.\n\nIn the same way that you can fetch content from pages on other Primo sites, you can also fetch content from other sources - including a Github repository. Instead of having to utilize Github's API, we can easily grab content directly from the Markdown files by fetching their raw urls.\n\nThis approach allows you to build, develop, and manage your site in Primo, while committing some subset of pages to a separate repository where they can be collaborated on and versioned. For instance - on this site, the main pages are stored in a repo and the guides are fully managed from Primo.\n\n"}}},"page":"f71580a8-89f6-4728-a43a-94cd7a83b26f","symbol":"98ef2e01-7e22-4d4b-ad27-6a51f83bb751","index":2},{"id":"363b0566-ce4e-46ce-b422-8d1b6561a69f","content":{"en":{"nav":[{"link":{"url":"/","label":"Introduction"}},{"link":{"url":"/getting-started","label":"Getting Started"}},{"link":{"url":"/development","label":"Development"}},{"link":{"url":"/publishing","label":"Publishing"}}],"secondary_logo":{"url":"http://localhost:5173/primo-docs","label":"docs"}}},"page":"1c9be6db-9636-4cb1-8dd4-ce7677eda58d","symbol":"a7332832-1c91-4fe4-9308-da5710b57686","index":0},{"id":"eed738df-da41-4c2a-b503-8542846c718d","content":{"en":{}},"page":"1c9be6db-9636-4cb1-8dd4-ce7677eda58d","symbol":"f3ebdadb-9df4-4840-bc05-7b7c73f0c9ba","index":1},{"id":"5b319540-1c6f-4362-8bbd-17964f243505","content":{"en":{"content":{"html":"<h1>Using external Svelte components</h1><p>In the same way that you can import libraries from your blocks’ JS, you can also import your <em>own</em> libraries and components directly from your site's repository (or npm). This may be necessary for using some Svelte libraries due to an <a target=\"_blank\" rel=\"noopener noreferrer nofollow\" class=\"link link\" href=\"https://github.com/primocms/primo/issues/264\">existing issue</a> with bundling. </p><h2>Example</h2><ol><li><p>Fork <a target=\"_blank\" rel=\"noopener noreferrer nofollow\" class=\"link link link link link link link link\" href=\"https://github.com/mateomorris/primo-components\">this repo</a></p></li><li><p>Add your components, build, and deploy</p></li><li><p>Import from Github raw url in Primo</p></li><li><p>Passing props</p></li><li><p>App gets hydrated</p></li></ol>","markdown":"# Using external Svelte components\n\nIn the same way that you can import libraries from your blocks’ JS, you can also import your *own* libraries and components directly from your site's repository (or npm). This may be necessary for using some Svelte libraries due to an [existing issue](<https://github.com/primocms/primo/issues/264>) with bundling.\n\n## Example\n\n1. Fork [this repo](<https://github.com/mateomorris/primo-components>)\n\n2. Add your components, build, and deploy\n\n3. Import from Github raw url in Primo\n\n4. Passing props\n\n5. App gets hydrated\n\n\n<!-- -->\n\n"}}},"page":"1c9be6db-9636-4cb1-8dd4-ce7677eda58d","symbol":"98ef2e01-7e22-4d4b-ad27-6a51f83bb751","index":2},{"id":"aa069f0f-9c54-4115-8be3-599f652080f6","content":{"en":{"nav":[{"link":{"url":"/","label":"Introduction"}},{"link":{"url":"/getting-started","label":"Getting Started"}},{"link":{"url":"/development","label":"Development"}},{"link":{"url":"/publishing","label":"Publishing"}}],"secondary_logo":{"url":"http://localhost:5173/primo-docs","label":"docs"}}},"page":"092114f6-8259-4f21-8c08-3e5dfcfe2e47","symbol":"a7332832-1c91-4fe4-9308-da5710b57686","index":0},{"id":"888dfc45-d58f-44e8-9e9a-4084ac7a8237","content":{"en":{"root_page":"Guides"}},"page":"092114f6-8259-4f21-8c08-3e5dfcfe2e47","symbol":"71632131-9686-4f57-8bbc-5f43ac34b485","index":1},{"id":"be32c820-bb46-494c-b146-c7038622e617","content":{"en":{"nav":[{"link":{"url":"/","label":"Introduction"}},{"link":{"url":"/getting-started","label":"Getting Started"}},{"link":{"url":"/development","label":"Development"}},{"link":{"url":"/publishing","label":"Publishing"}}],"secondary_logo":{"url":"http://localhost:5173/primo-docs","label":"docs"}}},"page":"f8a3a5a4-1e53-4777-b22f-697677a7d6d5","symbol":"a7332832-1c91-4fe4-9308-da5710b57686","index":0},{"id":"a5652620-9157-4823-ba70-02f8790bcfc1","content":{"en":{}},"page":"f8a3a5a4-1e53-4777-b22f-697677a7d6d5","symbol":"f3ebdadb-9df4-4840-bc05-7b7c73f0c9ba","index":1},{"id":"cf17a964-f5ca-4c92-b23f-917f7fb9ef3b","content":{"en":{"content":{"html":"<h1>How to use Primo Headless</h1><blockquote><p>This guide is about accessing a Primo site’s content from a framework. To <em>render</em> Primo pages from within your existing SvelteKit codebase, read <a target=\"_blank\" rel=\"noopener noreferrer nofollow\" class=\"link link link link link link\" href=\"https://primocms.org/guides/using-primo-with-sveltekit\">using Primo with SvelteKit</a>.</p></blockquote><p>You can access your site from any frontend framework by fetching its site file from its deployed repository.</p><p>A site file is a JSON file deployed with Primo sites which has the properties of “site, pages, sections, symbols”. It defines the entire site and is rarely larger than half a megabyte but can inflate if storing a lot of content or code.</p><h2>Example</h2><p>In <a target=\"_blank\" rel=\"noopener noreferrer nofollow\" class=\"link link\" href=\"https://github.com/mateomorris/primo-headless\">this SvelteKit repository</a>, we can see the site file being fetched directly from the site’s repository in order to hydrate some content in the application (in this case blog posts). It gets the list of blog posts from the list of child pages of Blog. Since the content is fetched from the server, it loads fully rendered.</p><p></p><p></p><p></p><p></p>","markdown":"# How to use Primo Headless\n\n> This guide is about accessing a Primo site’s content from a framework. To *render* Primo pages from within your existing SvelteKit codebase, read [using Primo with SvelteKit](<https://primocms.org/guides/using-primo-with-sveltekit>).\n\nYou can access your site from any frontend framework by fetching its site file from its deployed repository.\n\nA site file is a JSON file deployed with Primo sites which has the properties of “site, pages, sections, symbols”. It defines the entire site and is rarely larger than half a megabyte but can inflate if storing a lot of content or code.\n\n## Example\n\nIn [this SvelteKit repository](<https://github.com/mateomorris/primo-headless>), we can see the site file being fetched directly from the site’s repository in order to hydrate some content in the application (in this case blog posts). It gets the list of blog posts from the list of child pages of Blog. Since the content is fetched from the server, it loads fully rendered.\n\n\n\n\n\n\n\n\n\n"}}},"page":"f8a3a5a4-1e53-4777-b22f-697677a7d6d5","symbol":"98ef2e01-7e22-4d4b-ad27-6a51f83bb751","index":2},{"id":"1cc78e2c-aaca-419e-8984-43d98c64711a","content":{"en":{"nav":[{"link":{"url":"/","label":"Introduction"}},{"link":{"url":"/getting-started","label":"Getting Started"}},{"link":{"url":"/development","label":"Development"}},{"link":{"url":"/publishing","label":"Publishing"}}],"secondary_logo":{"url":"http://localhost:5173/primo-docs","label":"docs"}}},"page":"af718e25-d657-4883-8d3b-78261040835f","symbol":"a7332832-1c91-4fe4-9308-da5710b57686","index":0},{"id":"d768fbf7-63b0-4b43-921e-749379519ffe","content":{"en":{}},"page":"af718e25-d657-4883-8d3b-78261040835f","symbol":"f3ebdadb-9df4-4840-bc05-7b7c73f0c9ba","index":1},{"id":"b3aa097b-63b5-4b74-be9c-0abd86ed6321","content":{"en":{"content":{"html":"<h1>How to serve Primo pages from SvelteKit</h1><p>You can use the serverside load hook to intercept requests based on a blocklist or allowlist and fetch/return a static Primo page from the site’s repository instead.</p><p>This is useful when you have some content pages in your SvelteKit app that you want to have easily by yourself and other content editors, or when you have a full Primo site that you want to wrap in a SvelteKit application.</p><h2>Example</h2><p><a target=\"_blank\" rel=\"noopener noreferrer nofollow\" class=\"link link\" href=\"https://github.com/primocms/sveltekit-with-primo\">Here’s a repo</a> that demonstrates how to load Primo pages from a SvelteKit codebase.</p><p></p><p></p><p></p><p></p><p></p><p></p>","markdown":"# How to serve Primo pages from SvelteKit\n\nYou can use the serverside load hook to intercept requests based on a blocklist or allowlist and fetch/return a static Primo page from the site’s repository instead.\n\nThis is useful when you have some content pages in your SvelteKit app that you want to have easily by yourself and other content editors, or when you have a full Primo site that you want to wrap in a SvelteKit application.\n\n## Example\n\n[Here’s a repo](<https://github.com/primocms/sveltekit-with-primo>) that demonstrates how to load Primo pages from a SvelteKit codebase.\n\n\n\n\n\n\n\n\n\n\n\n\n\n"},"video_id":"","github_markdown_file":""}},"page":"af718e25-d657-4883-8d3b-78261040835f","symbol":"9aaca21c-4e7a-41d5-a03b-98dc08754b0f","index":2},{"id":"f182a935-36b0-4010-9657-e9d885c5cd70","content":{"en":{"nav":[{"link":{"url":"/","label":"Introduction"}},{"link":{"url":"/getting-started","label":"Getting Started"}},{"link":{"url":"/development","label":"Development"}},{"link":{"url":"/publishing","label":"Publishing"}}],"secondary_logo":{"url":"http://localhost:5173/primo-docs","label":"docs"}}},"page":"82a1e2ef-e867-42dc-a3e5-e9ea4bfb3a7f","symbol":"a7332832-1c91-4fe4-9308-da5710b57686","index":0},{"id":"e13368da-f105-4800-8d2b-5b582007b910","content":{"en":{"content":{"html":"","markdown":""},"video_id":"","github_markdown_file":"https://raw.githubusercontent.com/primocms/docs/main/publishing.md"}},"page":"82a1e2ef-e867-42dc-a3e5-e9ea4bfb3a7f","symbol":"9aaca21c-4e7a-41d5-a03b-98dc08754b0f","index":1},{"id":"048949ec-a789-4537-bfd4-8dfe8004d274","content":{"en":{"nav":[{"link":{"url":"/getting-started","label":"Getting Started"}},{"link":{"url":"/development","label":"Development"}},{"link":{"url":"/publishing","label":"Publishing"}}],"secondary_logo":{"url":"http://localhost:5173/primo-docs","label":"docs"}}},"page":"f68c0ff7-5298-4514-a035-a9fb198aea66","symbol":"a7332832-1c91-4fe4-9308-da5710b57686","index":0},{"id":"a27d2a89-a841-4f31-b038-011c23026664","content":{"en":{"content":{"html":"<h1 id=\"primo\">Primo</h1>\n<p>Primo is a new kind of monolithic CMS that makes it significantly easier to publish websites by providing a delightful content management experience and an embedded development environment. Primo sites get uploaded to a Github repository as a static site bundle, from where they can be deployed to any web host (usually for free).</p>\n<h2 id=\"comparison\">Comparison</h2>\n<p>Primo is most technically different from traditional monolithic CMSs like WordPress, Drupal, and Joomla in that it doesn't host your site for you, but instead builds the site as a static bundle so that they can be hosted by a separate server. Additionally, Primo offers more immediate control over the site's code by embedding a modular development environment, where custom development in a traditional monolithic CMS is a much more involved process.</p>\n<h2 id=\"projectstatus\">Project Status</h2>\n<p>Primo version 2 is in Public Beta as of April 28, 2023. Version 2 introduces significant usability and stability improvements over version 1 and is much more scalable since it stores sites, pages, and sections in a database instead of a flat file backend.</p>\n<h2 id=\"howitworks\">How it works</h2>\n<p>Primo is a SvelteKit application using Supabase as a backend. Sites, pages, page sections, and symbols (i.e. parent components) are all stored in the database as individual rows containing each's code, fields, and content.</p>\n<p>On-page editing works by matching a block's field values to text, link, and image values or explicitly set <code>data-key</code> attributes within the block's rendered HTML. Editable text is powered by <code>contentEditable = true</code> and a TipTap/ProseMirror editor for Markdown fields. The dev environment is powered by CodeMirror.</p>\n<p>Rollup and the Svelte compiler are used to compile page blocks into Svelte components (alongside PostCSS for nesting) and to build the static files for the deployed website, which Primo then uploads to Github via its REST API.</p>","markdown":"# Primo\n\nPrimo is a new kind of monolithic CMS that makes it significantly easier to publish websites by providing a delightful content management experience and an embedded development environment. Primo sites get uploaded to a Github repository as a static site bundle, from where they can be deployed to any web host (usually for free).\n\n## Comparison\n\nPrimo is most technically different from traditional monolithic CMSs like WordPress, Drupal, and Joomla in that it doesn't host your site for you, but instead builds the site as a static bundle so that they can be hosted by a separate server. Additionally, Primo offers more immediate control over the site's code by embedding a modular development environment, where custom development in a traditional monolithic CMS is a much more involved process.\n\n## Project Status\n\nPrimo version 2 is in Public Beta as of April 28, 2023. Version 2 introduces significant usability and stability improvements over version 1 and is much more scalable since it stores sites, pages, and sections in a database instead of a flat file backend.\n\n## How it works\n\nPrimo is a SvelteKit application using Supabase as a backend. Sites, pages, page sections, and symbols (i.e. parent components) are all stored in the database as individual rows containing each's code, fields, and content.\n\nOn-page editing works by matching a block's field values to text, link, and image values or explicitly set `data-key` attributes within the block's rendered HTML. Editable text is powered by `contentEditable = true` and a TipTap/ProseMirror editor for Markdown fields. The dev environment is powered by CodeMirror.\n\nRollup and the Svelte compiler are used to compile page blocks into Svelte components (alongside PostCSS for nesting) and to build the static files for the deployed website, which Primo then uploads to Github via its REST API.\n\n"},"video_id":"","github_markdown_file":"https://raw.githubusercontent.com/primocms/primo/master/README.md"}},"page":"f68c0ff7-5298-4514-a035-a9fb198aea66","symbol":"9aaca21c-4e7a-41d5-a03b-98dc08754b0f","index":1},{"id":"0a4216c5-12e9-41ce-87f4-cc77fa544acf","content":{"en":{"nav":[{"link":{"url":"/","label":"About"}},{"link":{"url":"/","label":"Getting Started"}},{"link":{"url":"/","label":"Development"}},{"link":{"url":"/publishing","label":"Publishing"}}],"secondary_logo":{"url":"/","label":"Docs"}}},"page":"26c2fe38-83b5-44f0-9b1f-3e1626dcdc04","symbol":"9c08e97e-0c43-47e1-a6a7-e47b0c5fee27","index":0},{"id":"e6d9ef29-ba11-49cd-8d35-ec7a4cd148b3","content":{"en":{"content":{"html":"<h1 id=\"templating\">Templating</h1>\n<p>Primo utilizes <a href=\"https://svelte.dev/\">Svelte</a> as a templating engine. Svelte is a popular next-generation web development framework used to build interactive web applications. Since Svelte is a superset of HTML and has much more powerful templating capabilities compared to more traditional templating engines like <a href=\"https://handlebarsjs.com/\">Handlebars</a>, it's the perfect tool for creating simple, powerful components.</p>\n<h2 id=\"fields\">Fields</h2>\n<p>Component Fields allow you to define form fields that appear on the CMS side of Primo. When the site is published, the value of those fields is compiled into static HTML.</p>\n<p>At the moment, you can define 7 basic input types (text, image, Markdown, number, switch, URL, link), 1 informational type, and 2 composite types (group &amp; repeater).</p>\n<ul>\n<li><p>Text</p></li>\n<li><p>Image - accessible with {image.url} and {image.alt}</p></li>\n<li><p>Markdown - accessible with {@html description}</p></li>\n<li><p>Number</p></li>\n<li><p>Switch (true/false)</p></li>\n<li><p>URL</p></li>\n<li><p>Link - accessible with {link.url} and {link.label}</p></li>\n<li><p>Info (enables writing instructions to CMS users)</p></li>\n<li><p>Group (used to group fields together)</p></li>\n<li><p>Repeater (used for content lists)</p></li>\n</ul>\n<!-- -->\n<h2 id=\"svelte\"><strong>Svelte</strong></h2>\n<p>Field values can be accessed from the code using the field's key in order to output values into code, conditionally render content, and more.</p>\n<h3 id=\"texthttpssveltedevdocstemplatesyntaxtextexpressions\"><a href=\"https://svelte.dev/docs#template-syntax-text-expressions\"><strong>Text</strong></a></h3>\n<p>Output the value of a text/number field or the value of a JavaScript expression.</p>\n<pre><code class=\"hljs\"><span class=\"language-xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">h1</span>&gt;</span></span><span class=\"hljs-template-variable\">{heading}</span><span class=\"language-xml\"><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">h1</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">h2</span>&gt;</span></span><span class=\"hljs-template-variable\">{heading.toUpperCase()}</span><span class=\"language-xml\"><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">h2</span>&gt;</span>\n</span></code></pre>\n<h3 id=\"htmlmarkdownfieldhttpssveltedevdocstemplatesyntaxhtml\"><a href=\"https://svelte.dev/docs#template-syntax-html\"><strong>HTML (Markdown Field)</strong></a></h3>\n<p>Output the HTML value of <strong>Markdown</strong> field using the <code>@html</code> tag inside a text expression and <code>.html</code>. Its Markdown value can be accessed with <code>.markdown</code>.</p>\n<p>Use the :global() modifier to target tags within the content (e.g. <code>:global(h1) { font-size: 30px })</code>.</p>\n<p>Note that HTML can only properly render within a <code>div</code> tag as it can contain heading elements. Attempting to render it within a <code>p</code> or <code>span</code> will create issues.</p>\n<pre><code class=\"hljs\"><span class=\"language-xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span></span><span class=\"hljs-template-variable\">{@html content.html}</span><span class=\"language-xml\"><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n</span></code></pre>\n<h3 id=\"ifconditionalhttpssveltedevdocstemplatesyntaxif\"><a href=\"https://svelte.dev/docs#template-syntax-if\"><strong>If Conditional</strong></a></h3>\n<p>Conditionally render a block of code. This is particularly useful with the 'Switch' field type.</p>\n<pre><code class=\"hljs\"><span class=\"hljs-template-tag\">{#<span class=\"hljs-name\">if</span> image.url}</span><span class=\"language-xml\">\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">img</span> <span class=\"hljs-attr\">src</span>=</span></span><span class=\"hljs-template-variable\">{image.url}</span><span class=\"language-xml\"><span class=\"hljs-tag\"> /&gt;</span>\n</span><span class=\"hljs-template-variable\">{:else <span class=\"hljs-keyword\">if</span> heading}</span><span class=\"language-xml\">\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">h2</span>&gt;</span></span><span class=\"hljs-template-variable\">{heading}</span><span class=\"language-xml\"><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">h2</span>&gt;</span>\n</span><span class=\"hljs-template-variable\">{:else}</span><span class=\"language-xml\">\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">span</span>&gt;</span></span><span class=\"hljs-template-variable\">{fallback}</span><span class=\"language-xml\"><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">span</span>&gt;</span>\n</span><span class=\"hljs-template-tag\">{/<span class=\"hljs-name\">if</span>}</span><span class=\"language-xml\">\n\n</span><span class=\"hljs-template-tag\">{#<span class=\"hljs-name\">if</span> show_footer}</span><span class=\"language-xml\">\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">footer</span>&gt;</span>...<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">footer</span>&gt;</span>\n</span><span class=\"hljs-template-tag\">{/<span class=\"hljs-name\">if</span>}</span><span class=\"language-xml\">\n</span></code></pre>\n<p>In some cases, it may be preferable to simply use an OR or ternary operator within a text expression.</p>\n<pre><code class=\"hljs html language-html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">h1</span>&gt;</span>{heading || title || fallback}<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">h1</span>&gt;</span>\n</code></pre>\n<h3 id=\"eachloophttpssveltedevdocstemplatesyntaxeach\"><a href=\"https://svelte.dev/docs#template-syntax-each\"><strong>Each Loop</strong></a></h3>\n<p>Iteratively render a <strong>Repeater</strong> field.</p>\n<pre><code class=\"hljs\"><span class=\"hljs-template-tag\">{#<span class=\"hljs-name\">each</span> links as link}</span><span class=\"language-xml\">\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">a</span> <span class=\"hljs-attr\">href</span>=</span></span><span class=\"hljs-template-variable\">{link.url}</span><span class=\"language-xml\"><span class=\"hljs-tag\">&gt;</span></span><span class=\"hljs-template-variable\">{link.label}</span><span class=\"language-xml\"><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">a</span>&gt;</span>\n</span><span class=\"hljs-template-tag\">{/<span class=\"hljs-name\">each</span>}</span><span class=\"language-xml\">\n</span></code></pre>\n<h2 id=\"onpageediting\">On-page editing</h2>\n<p>Primo will automatically make fields editable on the page by matching a block's field values to its value within the block's DOM element.</p>\n<h3 id=\"implicit\">Implicit</h3>\n<p>All field types besides 'Select' and 'Switch' will be automatically editable, including those within Repeater and Group fields, so long as they are within their own element without any other text.</p>\n<pre><code class=\"hljs\"><span class=\"language-xml\"><span class=\"hljs-comment\">&lt;!-- These will work --&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">h1</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">span</span>&gt;</span></span><span class=\"hljs-template-variable\">{heading}</span><span class=\"language-xml\"><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">span</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">span</span>&gt;</span></span><span class=\"hljs-template-variable\">{subheading}</span><span class=\"language-xml\"><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">span</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">h1</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">span</span>&gt;</span>&quot;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">span</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span></span><span class=\"hljs-template-variable\">{@html quote}</span><span class=\"language-xml\"><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">span</span>&gt;</span>&quot;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">span</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n\n<span class=\"hljs-comment\">&lt;!-- These will not --&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">h1</span>&gt;</span></span><span class=\"hljs-template-variable\">{heading}</span><span class=\"language-xml\"> - </span><span class=\"hljs-template-variable\">{subheading}</span><span class=\"language-xml\"><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">h1</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>&quot;</span><span class=\"hljs-template-variable\">{@html quote}</span><span class=\"language-xml\">&quot;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n</span></code></pre>\n<h3 id=\"explicit\">Explicit</h3>\n<p>You can explicitly set a field value to be on-page editable by setting a <code>data-key</code> attribute with a value matching the field's key. This should only be necessary in cases where Primo can't automatically detect the field value.</p>\n<pre><code class=\"hljs\"><span class=\"language-xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">data-key</span>=<span class=\"hljs-string\">&quot;description&quot;</span>&gt;</span></span><span class=\"hljs-template-variable\">{@html description.html}</span><span class=\"language-xml\"><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n\n<span class=\"hljs-comment\">&lt;!-- Repeater field --&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">ul</span>&gt;</span>\n  </span><span class=\"hljs-template-tag\">{#<span class=\"hljs-name\">each</span> teasers as teaser, i}</span><span class=\"language-xml\">\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">li</span> <span class=\"hljs-attr\">data-key</span>=<span class=\"hljs-string\">&quot;teasers[</span></span></span><span class=\"hljs-template-variable\">{i}</span><span class=\"language-xml\"><span class=\"hljs-tag\"><span class=\"hljs-string\">].item&quot;</span>&gt;</span></span><span class=\"hljs-template-variable\">{teaser.item}</span><span class=\"language-xml\"><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">li</span>&gt;</span>\n  </span><span class=\"hljs-template-tag\">{/<span class=\"hljs-name\">each</span>}</span><span class=\"language-xml\">\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">ul</span>&gt;</span>\n</span></code></pre>","markdown":"# Templating\n\nPrimo utilizes [Svelte](<https://svelte.dev/>) as a templating engine. Svelte is a popular next-generation web development framework used to build interactive web applications. Since Svelte is a superset of HTML and has much more powerful templating capabilities compared to more traditional templating engines like [Handlebars](<https://handlebarsjs.com/>), it's the perfect tool for creating simple, powerful components.\n\n## Fields\n\nComponent Fields allow you to define form fields that appear on the CMS side of Primo. When the site is published, the value of those fields is compiled into static HTML.\n\nAt the moment, you can define 7 basic input types (text, image, Markdown, number, switch, URL, link), 1 informational type, and 2 composite types (group & repeater).\n\n- Text\n\n- Image - accessible with {image.url} and {image.alt}\n\n- Markdown - accessible with {@html description}\n\n- Number\n\n- Switch (true/false)\n\n- URL\n\n- Link - accessible with {link.url} and {link.label}\n\n- Info (enables writing instructions to CMS users)\n\n- Group (used to group fields together)\n\n- Repeater (used for content lists)\n\n\n<!-- -->\n\n## **Svelte**\n\nField values can be accessed from the code using the field's key in order to output values into code, conditionally render content, and more.\n\n### [**Text**](<https://svelte.dev/docs#template-syntax-text-expressions>)\n\nOutput the value of a text/number field or the value of a JavaScript expression.\n\n```\n<h1>{heading}</h1>\n<h2>{heading.toUpperCase()}</h2>\n```\n\n### [**HTML (Markdown Field)**](<https://svelte.dev/docs#template-syntax-html>)\n\nOutput the HTML value of **Markdown** field using the `@html` tag inside a text expression and `.html`. Its Markdown value can be accessed with `.markdown`.\n\nUse the :global() modifier to target tags within the content (e.g. `:global(h1) { font-size: 30px })`.\n\nNote that HTML can only properly render within a `div` tag as it can contain heading elements. Attempting to render it within a `p` or `span` will create issues.\n\n```\n<div>{@html content.html}</div>\n```\n\n### [**If Conditional**](<https://svelte.dev/docs#template-syntax-if>)\n\nConditionally render a block of code. This is particularly useful with the 'Switch' field type.\n\n```\n{#if image.url}\n  <img src={image.url} />\n{:else if heading}\n  <h2>{heading}</h2>\n{:else}\n  <span>{fallback}</span>\n{/if}\n\n{#if show_footer}\n  <footer>...</footer>\n{/if}\n```\n\nIn some cases, it may be preferable to simply use an OR or ternary operator within a text expression.\n\n```html\n<h1>{heading || title || fallback}</h1>\n```\n\n### [**Each Loop**](<https://svelte.dev/docs#template-syntax-each>)\n\nIteratively render a **Repeater** field.\n\n```\n{#each links as link}\n  <a href={link.url}>{link.label}</a>\n{/each}\n```\n\n## On-page editing\n\nPrimo will automatically make fields editable on the page by matching a block's field values to its value within the block's DOM element.\n\n### Implicit\n\nAll field types besides 'Select' and 'Switch' will be automatically editable, including those within Repeater and Group fields, so long as they are within their own element without any other text.\n\n```\n<!-- These will work -->\n<h1>\n  <span>{heading}</span>\n  <span>{subheading}</span>\n</h1>\n<div>\n  <span>\"</span>\n  <div>{@html quote}</div>\n  <span>\"</span>\n</div>\n\n<!-- These will not -->\n<h1>{heading} - {subheading}</h1>\n<div>\"{@html quote}\"</div>\n```\n\n### Explicit\n\nYou can explicitly set a field value to be on-page editable by setting a `data-key` attribute with a value matching the field's key. This should only be necessary in cases where Primo can't automatically detect the field value.\n\n```\n<div data-key=\"description\">{@html description.html}</div>\n\n<!-- Repeater field -->\n<ul>\n  {#each teasers as teaser, i}\n    <li data-key=\"teasers[{i}].item\">{teaser.item}</li>\n  {/each}\n</ul>\n```\n\n"},"video_id":"","github_markdown_file":""}},"page":"26c2fe38-83b5-44f0-9b1f-3e1626dcdc04","symbol":"9aaca21c-4e7a-41d5-a03b-98dc08754b0f","index":1}],"symbols":[{"id":"f3ebdadb-9df4-4840-bc05-7b7c73f0c9ba","name":"Breadcrumbs","code":{"js":"import {fade} from 'svelte/transition'\n\n\nconst in_primo = window.location.origin.includes('primo')\nconst url = new URL(in_primo ? 'https://docs.primocms.org/guides/how-to-use-primo-headless' : window.location.href);\nconst parts = url.pathname.split(\"/\").filter(Boolean); // Split by '/' and filter out empty strings\n\nlet breadcrumbs = [];\nfetch(\"https://docs.primocms.org/primo.json\")\n  .then((res) => res.json())\n  .then((data) => {\n    const page = data.pages.find((page) => page.url === parts[0]);\n    const child = data.pages.find((page) => page.url === parts[1]);\n    // console.log({ page, child });\n\n    breadcrumbs = [\n      {\n        url: `/`,\n        name: \"Docs\",\n      },\n      ...(child\n        ? [\n            {\n              url: `/${page.url}`,\n              name: page.name,\n            },\n            {\n              url: `/${page.url}/${child.url}`,\n              name: child.name,\n            },\n          ]\n        : [\n            {\n              url: `/${page.url}`,\n              name: page.name,\n            },\n          ]),\n    ];\n  });\n","css":".section-container {\n  /* max-width: 700px; */\n  padding-block: 1rem;\n}\n\nul {\n  display: flex;\n  gap: 1rem;\n}\n\nli {\n  display: flex;\n\n  &:not(:last-child):after {\n    content: \">\";\n    padding-left: 1rem;\n    font-weight: 700;\n  }\n}\n\na {\n  text-decoration: underline;\n}\n","html":"<div class=\"section-container\">\n  {#if breadcrumbs.length > 0}\n    <ul in:fade={{duration: 100}}>\n      {#each breadcrumbs as { url, name }, i}\n        <li>\n          {#if i === breadcrumbs.length - 1}\n            <span>{name}</span>\n          {:else}\n            <a href={url}>{name}</a>\n          {/if}\n        </li>\n      {/each}\n    </ul>\n  {/if}\n</div>\n"},"fields":[],"content":{"en":{}},"site":"cd39839c-d242-4652-b902-768f8e669563"},{"id":"71632131-9686-4f57-8bbc-5f43ac34b485","name":"Page List","code":{"js":"import axios from \"axios\";\nimport { onMount } from \"svelte\";\nimport Icon from \"@iconify/svelte/dist/Icon.svelte\";\n\nlet parent_page = {}\n\nfunction get_title(page) {\n  return page.sections[1][\"content\"][\"en\"][\"heading\"] || null\n}\n\nfunction get_description(page) {\n  return page.sections[1][\"content\"][\"en\"][\"content\"] ? page.sections[1][\"content\"][\"en\"][\"content\"] .html : null\n}\n\nasync function get_pages() {\n  const data = await axios.get(\"/primo.json\").then((res) =>{\n    console.log(res)\n    return  res.data\n  })\n  console.log({data})\n  parent_page = data.pages.find((page) => page.name === root_page);\n\n  // console.log(data);\n  if (root_page) {\n    const child_pages = data.pages\n      .filter((page) => page.parent === parent_page.id)\n      .map((page) => ({\n        ...page,\n        sections: data.sections\n          .filter((section) => section.page === page.id)\n          .sort((a, b) => a.index - b.index),\n      }));\n\n    // console.log({ child_pages });\n\n    return child_pages;\n  } else {\n    return data.pages;\n  }\n}\n","css":".heading {\n  text-align: left;\n  margin-bottom: 1rem;\n  font-size: 2rem;\n}\n\nul {\n  list-style: disc;\n  padding-left: 1rem;\n  display: grid;\n  gap: 0.5rem;\n}\n\nli {\n  position: relative;\n}\n\na {\n  font-size: 1.5rem;\n\n  &:hover + .tooltip {\n    display: block;\n  }\n}\n\n.tooltip {\n  color: white;\n  background: #222;\n  padding: 1rem;\n  border-radius: 0.25rem;\n  position: absolute;\n  z-index: 1;\n  left: 0;\n  display: none;\n  margin-top: 0.25rem;\n  max-width: 500px;\n\n  .title {\n    font-weight: 600;\n    font-size: 1.125rem;\n  }\n\n  &:empty {\n    display: none;\n  }\n}\n","html":"<div class=\"section-container\">\n  {#if root_page}\n    <div class=\"heading\" data-key=\"root_page\">{root_page}</div>\n  {/if}\n  {#key root_page}\n    {#await get_pages()}\n      <Icon width=\"50\" icon=\"line-md:loading-twotone-loop\" />\n    {:then pages}\n      <ul>\n        {#each pages as page}\n          <li>\n            <a class=\"link underlined\" href={parent_page ? `${parent_page.url}/${page.url}` : `/${page.url}`}>{page.name}</a>\n            {#if get_title(page) || get_description(page)}\n              <div class=\"tooltip\">\n                {#if get_title(page)}\n                  <div class=\"title\">{@html get_title(page)}</div>\n                {/if}\n                <div class=\"description\">{@html get_description(page)}</div>\n              </div>\n            {/if}\n          </li>\n        {/each}\n      </ul>\n    {:catch error}\n      <span>promise was rejected</span>\n    {/await}\n  {/key}\n</div>\n"},"fields":[{"id":"ootgd","key":"root_page","type":"text","label":"Root Page","fields":[],"options":{},"is_static":false}],"content":{"en":{"root_page":"About"}},"site":"cd39839c-d242-4652-b902-768f8e669563"},{"id":"a7332832-1c91-4fe4-9308-da5710b57686","name":"New Header","code":{"js":"import axios from \"axios\";\nimport Icon from \"@iconify/svelte/dist/Icon.svelte\";\nimport { fade } from \"svelte/transition\";\nimport { get, set } from \"idb-keyval\";\n\nlet mobileNavOpen = false;\nlet showing_dropdown = false\n\nfunction toggleMobileNav() {\n  mobileNavOpen = !mobileNavOpen;\n}\n\nclass Site {\n  constructor(url = '') {\n    this.url = url;\n    this.pages = this.createActions(\"pages\");\n    this.symbols = this.createActions(\"symbols\");\n  }\n  createActions(property) {\n    const url = this.url;\n    return {\n      match: async (args) => {\n        const [prop] = Object.entries(args);\n        const [key, value] = prop;\n        const { data } = await axios.get(`${url}/primo.json`);\n        const [item] = data[property].filter((item) => item[key] === value);\n        return item;\n      },\n      filter: async (fn) => {\n        const { data } = await axios.get(`${url}/primo.json`);\n        const items = data[property].filter(fn);\n        return items;\n      },\n    };\n  }\n  async on_load(fn) {\n    const { data } = await axios.get(`${this.url}/primo.json`);\n    fn(data);\n  }\n}\n\n// function Actions(property, url) {\n//   return {\n//     match: async (args) => {\n//       const [prop] = Object.entries(args);\n//       const [key, value] = prop;\n//       const { data } = await axios.get(`${url}/primo.json`);\n//       const [item] = data[property].filter((item) => item[key] === value);\n//       return item;\n//     },\n//     filter: async (fn) => {\n//       const { data } = await axios.get(`${url}/primo.json`);\n//       const items = data[property].filter(fn);\n//       return items;\n//     },\n//   };\n// }\n\n// function Site(url = \"\") {\n//   this.url = url;\n//   this.pages = Actions(\"pages\", url);\n//   this.symbols = Actions(\"symbols\", url);\n// }\n\n// Site.prototype.on_load = async function (fn) {\n//   console.log(this);\n//   const { data } = await axios.get(`${this.url}/primo.json`);\n//   fn(data);\n// };\n\nconst main_site = new Site(\"https://primocms.org\");\n\nlet loaded = false;\nmain_site.on_load(() => {\n  loaded = true;\n});\n\nfunction parent_href(link) {\n  return link.url.startsWith(\"/\")\n    ? `https://primocms.org${link.url}`\n    : link.url;\n}\n","css":"header {\n  background: var(--background, white);\n  border-bottom: 1px solid var(--border-color, #e5e5e7);\n  padding-top: .75rem;\n}\n\n.section-container {\n  padding-top: 1rem;\n  padding-bottom: 1rem;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.parent-nav {\n  font-size: 0.75rem;\n  padding-block: 0.5rem;\n  /* border-bottom: 1px solid #222; */\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  opacity: 0;\n  transition: 0.2s opacity;\n  /* height: 35px; */\n\n  .logo {\n    display: flex;\n    align-items: baseline;\n\n    :global(svg) {\n      width: 5rem;\n    }\n  }\n\n  nav {\n    gap: 1.5rem;\n\n    a:hover {\n      color: var(--color-accent);\n    }\n  }\n\n  &.loaded {\n    opacity: 1;\n  }\n}\n\n.logos {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n\n  a.link {\n    font-size: 1.25rem;\n    font-weight: 600;\n    color: white;\n    border-bottom: 2px solid transparent;\n    transition: border-color 0.1s;\n\n    &:hover {\n      border-color: var(--color-accent);\n      color: white;\n    }\n  }\n}\n\n.navigation {\n  display: flex;\n  gap: 1.5rem;\n}\n\nnav {\n  display: flex;\n  align-items: center;\n  gap: 2rem;\n\n  .dropdown {\n    position: relative;\n\n    .title {\n      display: flex;\n      gap: 0.25rem;\n      align-items: center;\n    }\n\n    ul {\n      position: absolute;\n      right: 0;\n      gap: 0.25rem;\n      background: #222;\n      padding: 0.75rem;\n      text-wrap: nowrap;\n      display: none;\n      text-decoration: underline;\n      white-space: nowrap;\n      z-index: 9;\n    }\n\n    &:hover ul, &.active ul {\n      display: grid;\n    }\n  }\n\n  a.link.active {\n    border-bottom: 2px solid var(--color-accent);\n    transition: border-color 0.1s;\n    font-size: 1rem;\n  }\n\n  a.link {\n    display: none;\n\n    &:hover {\n      color: white;\n      transition: 0.3s;\n    }\n  }\n\n  button#close {\n    display: none;\n  }\n}\n\n.call-to-action {\n  display: flex;\n  align-items: center;\n  gap: 1.5rem;\n\n  #theme {\n    svg {\n      width: 1.25rem;\n      height: 1.25rem;\n    }\n  }\n\n  :global(.locale-selector select) {\n    background: transparent;\n  }\n}\n\nnav#mobile-nav {\n  position: absolute;\n  flex-direction: column;\n  text-align: center;\n  background: var(--background);\n  box-shadow: var(--box-shadow);\n  border-radius: var(--border-radius);\n  left: 0.5rem;\n  top: 0.5rem;\n  right: 0.5rem;\n  padding: 2rem;\n  z-index: 9;\n\n  a.link {\n    display: block;\n  }\n\n  /*   Button */\n  /*   a:last-of-type {\n    color: var(--button-color, white);\n    background: var(--button-background, #154bf4);\n    border-radius: var(--button-border-radius, 5px);\n    padding: var(--button-padding, 8px 20px);\n    width: 100%;\n    justify-content: center;\n  } */\n\n  button#close {\n    display: block;\n    position: absolute;\n    right: 1rem;\n    top: 1rem;\n    svg {\n      color: var(--color-accent, #154bf4);\n      width: 1.5rem;\n      height: 1.5rem;\n    }\n  }\n}\n\n@media (min-width: 900px) {\n  .call-to-action {\n    display: none;\n  }\n  #open,\n  #mobile-nav {\n    display: none;\n  }\n  nav {\n    a.link {\n      display: inline-block;\n      border-bottom: 2px solid transparent;\n      transition: border-color 0.1s;\n\n      &:hover {\n        border-color: var(--color-accent);\n      }\n    }\n  }\n}\n","html":"<header>\n  <div class:loaded class=\"parent-nav section-container\">\n    {#await main_site.symbols.match({ name: \"Site Navigation\" }) then header}\n      {@const { logo } = header.content.en}\n      <a href=\"https://primocms.org\" class=\"logo\" aria-label=\"Primo main site\">\n        {@html logo.svg}\n      </a>\n    {/await}\n    <nav>\n      {#await main_site.symbols.match({ name: \"Footer\" }) then footer}\n        {@const { social } = footer.content.en}\n        {#each social as { icon, link }}\n          <a href={parent_href(link)}>\n            <Icon {icon} />\n          </a>\n        {/each}\n      {/await}\n    </nav>\n  </div>\n  <div class=\"section-container\">\n    <div class=\"logos\">\n      <a href=\"/\" class=\"link\">Primo Docs</a>\n    </div>\n    <div class=\"navigation\">\n      <nav>\n        {#each nav as { link }}\n          <a\n            href={link.url}\n            class=\"link\"\n            class:active={window.location.pathname === link.url}\n            >{link.label}</a>\n        {/each}\n        <div class=\"dropdown\" class:active={showing_dropdown}>\n          <button\n            class=\"title\"\n            on:click={() => (showing_dropdown = !showing_dropdown)}>\n            <span>Guides</span>\n            <Icon icon=\"tabler:chevron-down\" />\n          </button>\n          {#await new Site().pages.filter((page) => page.parent === \"092114f6-8259-4f21-8c08-3e5dfcfe2e47\") then guides}\n            <ul>\n              {#each guides as guide}\n                <li>\n                  <a href=\"/guides/{guide.url}\">{guide.name}</a>\n                </li>\n              {/each}\n            </ul>\n          {/await}\n        </div>\n      </nav>\n      <div class=\"call-to-action\">\n        <button id=\"open\" on:click={toggleMobileNav}>\n          <Icon height=\"30\" icon=\"material-symbols:menu\" />\n        </button>\n      </div>\n    </div>\n    {#if mobileNavOpen}\n      <nav id=\"mobile-nav\" transition:fade={{ duration: 200 }}>\n        {#each nav as { link }}\n          <a href={link.url} class=\"link\">{link.label}</a>\n        {/each}\n        <button\n          on:click={toggleMobileNav}\n          id=\"close\"\n          aria-label=\"Close Navigation\">\n          <Icon height=\"30\" icon=\"material-symbols:close\" />\n        </button>\n      </nav>\n    {/if}\n  </div>\n</header>\n"},"fields":[{"id":"vwfvl","key":"secondary_logo","type":"link","label":"Logo","fields":[{"id":"ueviy","key":"title","type":"text","label":"Title","value":"Cillum enim voluptate","fields":[],"options":{},"is_static":false},{"id":"whzhb","key":"image","type":"image","label":"Image","value":{"alt":"","src":"https://picsum.photos/600/400?blur=10","url":"https://picsum.photos/600/400?blur=10","size":null},"fields":[],"options":{},"is_static":false}],"options":{},"is_static":true},{"id":"owstw","key":"nav","type":"repeater","label":"Navigation","fields":[{"id":"gkvkp","key":"link","type":"link","label":"Link","value":{"url":"/","label":"laboris"},"fields":[],"options":{},"is_static":false}],"options":{},"is_static":true}],"content":{"en":{"nav":[{"link":{"url":"/getting-started","label":"Getting Started"}},{"link":{"url":"/development","label":"Development"}},{"link":{"url":"/publishing","label":"Publishing"}}],"secondary_logo":{"url":"http://localhost:5173/primo-docs","label":"docs"}}},"site":"cd39839c-d242-4652-b902-768f8e669563"},{"id":"9c08e97e-0c43-47e1-a6a7-e47b0c5fee27","name":"Site Navigation","code":{"js":"import Icon from '@iconify/svelte/dist/Icon.svelte'\nimport {fade} from 'svelte/transition' \n\nlet mobileNavOpen = false \n\nfunction toggleMobileNav() {\n  mobileNavOpen = !mobileNavOpen\n}\n","css":"header {\n  background: var(--background, white);\n  border-bottom: 1px solid var(--border-color, #e5e5e7);\n}\n\n.section-container {\n  padding-top: 1rem;\n  padding-bottom: 1rem;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.logos {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  color: var(--color-accent);\n\n  .is-primo svg {\n    width: 7rem;\n    color: white;\n    transform: translateY(-1px);\n  }\n\n  a.link {\n    color: var(--color);\n    border-bottom: 2px solid transparent;\n    transition: border-color 0.1s;\n    span {\n      font-size: 1rem;\n      font-weight: 400;\n    }\n\n    &:first-child {\n      color: var(--color-accent);\n      padding-bottom: 3px;\n      transform: translateY(5px);\n    }\n\n    &:hover {\n      border-color: var(--color-accent);\n      color: white;\n    }\n  }\n}\n\nnav {\n  display: flex;\n  align-items: center;\n  gap: 2rem;\n\n  a.link.active {\n    border-bottom: 2px solid var(--color-accent);\n    transition: border-color 0.1s;\n    font-size: 1rem;\n\n  }\n\n  a.link {\n    display: none;\n\n    &:hover{\n      color: white;\n      transition: .3s;\n    }\n  }\n\n  button#close {\n    display: none;\n  }\n}\n\n.call-to-action {\n  display: flex;\n  align-items: center;\n  gap: 1.5rem;\n\n  #theme {\n    svg {\n      width: 1.25rem;\n      height: 1.25rem;\n    }\n  }\n\n  :global(.locale-selector select) {\n    background: transparent;\n  }\n}\n\nnav#mobile-nav {\n  position: absolute;\n  flex-direction: column;\n  text-align: center;\n  background: var(--background);\n  box-shadow: var(--box-shadow);\n  border-radius: var(--border-radius);\n  left: 0.5rem;\n  top: 0.5rem;\n  right: 0.5rem;\n  padding: 2rem;\n  z-index: 9;\n\n  a.link {\n    display: block;\n  }\n\n  /*   Button */\n  /*   a:last-of-type {\n    color: var(--button-color, white);\n    background: var(--button-background, #154bf4);\n    border-radius: var(--button-border-radius, 5px);\n    padding: var(--button-padding, 8px 20px);\n    width: 100%;\n    justify-content: center;\n  } */\n\n  button#close {\n    display: block;\n    position: absolute;\n    right: 1rem;\n    top: 1rem;\n    svg {\n      color: var(--color-accent, #154bf4);\n      width: 1.5rem;\n      height: 1.5rem;\n    }\n  }\n}\n\n@media (min-width: 900px) {\n  .call-to-action {\n    display: none;\n  }\n  #open,\n  #mobile-nav {\n    display: none;\n  }\n  nav {\n    a.link {\n      display: inline-block;\n      border-bottom: 2px solid transparent;\n      transition: border-color 0.1s;\n\n      &:hover {\n        border-color: var(--color-accent);\n      }\n    }\n  }\n}\n","html":"<header>\n  <div class=\"section-container\">\n    <div class=\"logos\">\n      <a href=\"https://primo.so\" class=\"is-primo\">\n        <svg\n          viewBox=\"0 0 871 198\"\n          fill=\"none\"\n          xmlns=\"http://www.w3.org/2000/svg\">\n          <g clip-path=\"url(#clip0_250_527)\">\n            <path\n              d=\"M814.062 159.924C782.686 159.924 757.171 134.408 757.171 103.032C757.171 71.6567 782.686 46.1408 814.062 46.1408C845.438 46.1408 870.954 71.6567 870.954 103.032C870.954 134.408 845.438 159.924 814.062 159.924ZM814.062 70.3186C796.021 70.3186 781.395 84.9914 781.395 102.986C781.395 120.981 796.067 135.654 814.062 135.654C832.057 135.654 846.73 120.981 846.73 102.986C846.73 84.9914 832.057 70.3186 814.062 70.3186V70.3186Z\"\n              fill=\"#FDFDFD\" />\n            <path\n              d=\"M700.925 46.0947C689.897 46.0947 679.931 50.5242 672.641 57.676C665.35 50.5242 655.384 46.0947 644.356 46.0947C622.07 46.0947 603.983 64.228 603.983 86.4679V147.789C603.983 154.479 609.382 159.878 616.072 159.878C622.763 159.878 628.161 154.479 628.161 147.789V86.4679C628.161 77.5627 635.405 70.3186 644.31 70.3186C653.215 70.3186 660.46 77.5627 660.46 86.4679V147.789C660.46 154.479 665.858 159.878 672.548 159.878C679.239 159.878 684.637 154.479 684.637 147.789V86.4679C684.637 77.5627 691.881 70.3186 700.787 70.3186C709.692 70.3186 716.936 77.5627 716.936 86.4679V147.789C716.936 154.479 722.334 159.878 729.025 159.878C735.715 159.878 741.114 154.479 741.114 147.789V86.4679C741.114 64.1819 722.98 46.0947 700.74 46.0947H700.925Z\"\n              fill=\"#FDFDFD\" />\n            <path\n              d=\"M571.039 159.786C564.348 159.786 558.95 154.387 558.95 147.697V58.0913C558.95 51.4009 564.348 46.0024 571.039 46.0024C577.729 46.0024 583.128 51.4009 583.128 58.0913V147.697C583.128 154.387 577.729 159.786 571.039 159.786Z\"\n              fill=\"#FDFDFD\" />\n            <path\n              d=\"M571.039 26.4848C578.352 26.4848 584.281 20.556 584.281 13.2424C584.281 5.92883 578.352 0 571.039 0C563.725 0 557.796 5.92883 557.796 13.2424C557.796 20.556 563.725 26.4848 571.039 26.4848Z\"\n              fill=\"#FDFDFD\" />\n            <path\n              d=\"M482.356 159.785C475.666 159.785 470.267 154.387 470.267 147.697V102.894C470.267 71.5181 495.783 46.0023 527.159 46.0023C533.849 46.0023 539.248 51.4007 539.248 58.0911C539.248 64.7816 533.849 70.18 527.159 70.18C509.118 70.18 494.491 84.8528 494.491 102.848V147.65C494.491 154.341 489.093 159.739 482.402 159.739L482.356 159.785Z\"\n              fill=\"#FDFDFD\" />\n            <path\n              d=\"M349.701 197.99C343.011 197.99 337.612 192.592 337.612 185.901V102.894C337.612 71.5182 363.128 46.0024 394.504 46.0024C425.88 46.0024 451.396 71.5182 451.396 102.894C451.396 134.27 425.88 159.786 394.504 159.786C387.814 159.786 382.415 154.387 382.415 147.697C382.415 141.006 387.814 135.608 394.504 135.608C412.545 135.608 427.172 120.935 427.172 102.94C427.172 84.9452 412.499 70.2724 394.504 70.2724C376.509 70.2724 361.836 84.9452 361.836 102.94V185.947C361.836 192.638 356.438 198.036 349.747 198.036L349.701 197.99Z\"\n              fill=\"#FDFDFD\" />\n            <path\n              d=\"M222.814 159.371C219.723 159.371 216.631 158.171 214.232 155.818C209.526 151.065 209.526 143.406 214.232 138.699L249.668 103.263L214.232 67.8271C209.526 63.0746 209.526 55.4153 214.232 50.7089C218.984 45.9564 226.644 45.9564 231.35 50.7089L275.369 94.7272C280.075 99.4797 280.075 107.139 275.369 111.845L231.35 155.864C228.997 158.217 225.906 159.417 222.768 159.417L222.814 159.371Z\"\n              fill=\"#35D994\" />\n            <path\n              d=\"M94.7272 197.99C91.6358 197.99 88.5443 196.791 86.145 194.437L3.55296 111.799C-1.1534 107.047 -1.1534 99.3874 3.55296 94.681L47.5713 50.6627C52.3238 45.9102 59.9832 45.9102 64.6895 50.6627C69.3959 55.4152 69.3959 63.0746 64.6895 67.7809L29.2073 103.217L103.263 177.273C107.97 182.026 107.97 189.685 103.263 194.391C100.91 196.744 97.8186 197.944 94.6811 197.944L94.7272 197.99Z\"\n              fill=\"url(#paint0_linear_250_527)\" />\n            <path\n              d=\"M94.7273 197.99C88.0369 197.99 82.6384 192.592 82.6384 185.901V102.894C82.6384 71.5181 108.154 46.0023 139.53 46.0023C170.906 46.0023 196.422 71.5181 196.422 102.894C196.422 134.27 170.906 159.785 139.53 159.785C132.84 159.785 127.441 154.387 127.441 147.697C127.441 141.006 132.84 135.608 139.53 135.608C157.571 135.608 172.198 120.935 172.198 102.94C172.198 84.9451 157.525 70.2723 139.53 70.2723C121.535 70.2723 106.862 84.9451 106.862 102.94V185.947C106.862 192.638 101.464 198.036 94.7735 198.036L94.7273 197.99Z\"\n              fill=\"#35D994\" />\n          </g>\n          <defs>\n            <linearGradient\n              id=\"paint0_linear_250_527\"\n              x1=\"25.5621\"\n              y1=\"72.6719\"\n              x2=\"125.319\"\n              y2=\"172.428\"\n              gradientUnits=\"userSpaceOnUse\">\n              <stop stop-color=\"#35D994\" />\n              <stop offset=\"0.16\" stop-color=\"#32D28E\" />\n              <stop offset=\"0.38\" stop-color=\"#29BF80\" />\n              <stop offset=\"0.64\" stop-color=\"#1CA169\" />\n              <stop offset=\"0.93\" stop-color=\"#097649\" />\n              <stop offset=\"0.95\" stop-color=\"#097548\" />\n            </linearGradient>\n            <clipPath id=\"clip0_250_527\">\n              <rect width=\"871\" height=\"197.99\" fill=\"white\" />\n            </clipPath>\n          </defs>\n        </svg>\n      </a>\n      <Icon icon=\"ph:caret-right-bold\" size=\"2rem\" />\n      <a href={secondary_logo.url} class=\"link\">\n        <span>{secondary_logo.label}</span>\n      </a>\n    </div>\n    <nav>\n      {#each nav as { link }}\n        <a\n          href={link.url}\n          class=\"link\"\n          class:active={window.location.pathname === link.url}>{link.label}</a>\n      {/each}\n    </nav>\n    <div class=\"call-to-action\">\n      <button id=\"open\" on:click={toggleMobileNav}>\n        <svg\n          width=\"20\"\n          height=\"20\"\n          viewBox=\"0 0 20 20\"\n          fill=\"none\"\n          xmlns=\"http://www.w3.org/2000/svg\">\n          <path\n            d=\"M19.4643 17.0213H0.535714C0.239866 17.0213 0 17.3071 0 17.6596V19.3617C0 19.7142 0.239866 20 0.535714 20H19.4643C19.7601 20 20 19.7142 20 19.3617V17.6596C20 17.3071 19.7601 17.0213 19.4643 17.0213ZM19.4643 8.51064H0.535714C0.239866 8.51064 0 8.79644 0 9.14894V10.8511C0 11.2036 0.239866 11.4894 0.535714 11.4894H19.4643C19.7601 11.4894 20 11.2036 20 10.8511V9.14894C20 8.79644 19.7601 8.51064 19.4643 8.51064ZM19.4643 0H0.535714C0.239866 0 0 0.285797 0 0.638296V2.34042C0 2.69292 0.239866 2.97872 0.535714 2.97872H19.4643C19.7601 2.97872 20 2.69292 20 2.34042V0.638296C20 0.285797 19.7601 0 19.4643 0Z\"\n            fill=\"currentColor\" />\n        </svg>\n      </button>\n    </div>\n    {#if mobileNavOpen}\n      <nav id=\"mobile-nav\" transition:fade={{ duration: 200 }}>\n        {#each nav as { link }}\n          <a href={link.url} class=\"link\">{link.label}</a>\n        {/each}\n        <button\n          on:click={toggleMobileNav}\n          id=\"close\"\n          aria-label=\"Close Navigation\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 20 20\"\n            fill=\"currentColor\">\n            <path\n              fill=\"currentColor\"\n              fill-rule=\"evenodd\"\n              d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\"\n              clip-rule=\"evenodd\" />\n          </svg>\n        </button>\n      </nav>\n    {/if}\n  </div>\n</header>\n"},"fields":[{"id":"vwfvl","key":"secondary_logo","type":"link","label":"Logo","fields":[{"id":"ueviy","key":"title","type":"text","label":"Title","value":"Cillum enim voluptate","fields":[],"default":"","options":{},"is_static":false},{"id":"whzhb","key":"image","type":"image","label":"Image","value":{"alt":"","src":"https://picsum.photos/600/400?blur=10","url":"https://picsum.photos/600/400?blur=10","size":null},"fields":[],"default":"","options":{},"is_static":false}],"default":"","options":{},"is_static":true},{"id":"owstw","key":"nav","type":"repeater","label":"Navigation","fields":[{"id":"gkvkp","key":"link","type":"link","label":"Link","value":{"url":"/","label":"laboris"},"fields":[],"default":"","options":{},"is_static":false}],"default":"","options":{},"is_static":true}],"content":{"en":{"nav":[{"link":{"url":"/","label":"About"}},{"link":{"url":"/","label":"Getting Started"}},{"link":{"url":"/","label":"Development"}},{"link":{"url":"/publishing","label":"Publishing"}}],"secondary_logo":{"url":"/","label":"Docs"}}},"site":"cd39839c-d242-4652-b902-768f8e669563"},{"id":"9aaca21c-4e7a-41d5-a03b-98dc08754b0f","name":"Documentation","code":{"js":"import Icon from \"@iconify/svelte/dist/Icon.svelte\";\nimport axios from \"axios\";\nimport showdown from \"showdown\";\nimport { tick } from \"svelte\";\n\nconst converter = new showdown.Converter({});\n\nlet content_node;\n\nlet docs;\n\nasync function get_docs() {\n  if (!github_markdown_file) {\n    docs = content.html;\n  } else {\n    const { data } = await axios.get(github_markdown_file);\n    const converted = converter.makeHtml(data);\n    // console.log({data, converted})\n    docs = converted;\n  }\n}\n$: github_markdown_file, get_docs();\n\nlet header_links = [];\nasync function createHeaderLinks(content_node) {\n  await tick();\n  if (!content_node) return\n  header_links = Array.from(content_node.children)\n    .filter((n) => [\"H1\", \"H2\", \"H3\"].includes(n.tagName))\n    .map((n, i) => {\n      return {\n        level: n.tagName,\n        text: n.textContent,\n        id: n.id,\n        node: n,\n        top: n.offsetTop,\n      };\n    });\n}\n$: docs && createHeaderLinks(content_node);\n\nlet activeLink = null;\nlet scrollY;\n// $: console.log({scrollY})\n$: header_links.length > 0 && setActiveLink(scrollY);\nfunction setActiveLink(scrollY) {\n  header_links = header_links\n    .map((link, i) => {\n      const element = link.node;\n      const top = element ? element.offsetTop : null;\n      const passed = scrollY >= top;\n      return {\n        ...link,\n        top,\n        passed,\n      };\n    })\n    .map((link, i) => {\n      const nextLink = header_links[i + 1];\n      const active = nextLink\n        ? link.top < scrollY && scrollY < nextLink.top\n        : false;\n      return {\n        ...link,\n        active,\n      };\n    });\n}\n","css":"section {\n  display: grid;\n  place-items: flex-start;\n  gap: 4rem;\n  position: relative;\n\n  nav {\n    display: none;\n    place-content: flex-start;\n    position: sticky;\n    top: 1rem;\n\n    a {\n      display: flex;\n      align-items: center;\n      padding: 0.25rem 0;\n      padding-right: 3rem;\n      border-right: 1px solid var(--border-color);\n      transition: 0.1s border-color;\n      offset: 30rem;\n    \n\n      /* span {\n        margin-right: 0.25rem;\n        font-size: 1.125rem;\n      } */\n\n      :global(svg) {\n        color: var(--color-accent);\n        position: absolute;\n        right: 100%;\n      }\n    }\n\n    .passed {\n      border-color: var(--color-accent);\n    }\n\n    .H1 {\n      font-size: 1rem;\n    }\n\n    .H2 {\n      font-size: 0.825rem;\n    }\n\n    .H3 {\n      font-size: 0.75rem; \n      padding-left: 0.5rem;\n    }\n  }\n\n  main {\n    max-width: 600px;\n\n    .button.pr {\n      display: flex;\n      align-items: center;\n      gap: 0.5rem;\n      background: #222;\n      color: #ddd;\n      font-size: 0.875rem;\n      position: fixed;\n      right: 1rem;\n      bottom: 1rem; \n    }\n\n    .video {\n      padding-top: 63%;\n      height: 0;\n      position: relative;\n      margin-bottom: 3rem;\n\n      iframe {\n        border: 2px solid #393939;\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        inset: 0;\n      }\n    }\n\n    .content {\n      padding: 0;\n      margin: initial;\n\n      :global(a[href$=\"#gh-light-mode-only\"]) {\n        display: none;\n      }\n\n      :global(img[alt=\"Primo\"]) {\n        width: 10rem;\n      }\n\n      :global(h3) {\n        margin-top: 1rem;\n      }\n\n      :global(img) {\n        width: 100%;\n        margin: 1rem 0;\n      }\n\n      :global(hr) {\n        margin: 4rem 0;\n        border-color: var(--border-color);\n      }\n\n      :global(p) {\n        font-family: \"Inter\", sans-serif;\n      }\n    }\n  }\n}\n\n@media (min-width: 800px) {\n  section {\n    grid-template-columns: minmax(auto, 15rem) auto;\n\n    nav {\n      display: grid;\n    }\n  }\n}\n","html":"<section class=\"section-container\">\n  <nav>\n    {#each header_links as link}\n      <a href=\"#{link.id}\" class:passed={link.passed} class={link.level}>\n        <span>{link.text}</span>\n        {#if link.active}\n          <Icon icon=\"bx:chevron-right\" />\n        {/if}\n      </a>\n    {/each}\n  </nav>\n  <main>\n    {#if github_markdown_file}\n      <a\n        class=\"button pr\"\n        href=\"https://github.com/primocms/docs\"\n        target=\"_blank\">\n        <Icon icon=\"bxs:edit\" />\n        <span>suggest edits</span>\n      </a>\n    {/if}\n    {#if video_id}\n      <div class=\"video\">\n        <iframe\n          src=\"https://www.youtube-nocookie.com/embed/{video_id}\"\n          title=\"YouTube video player\"\n          frameborder=\"0\"\n          allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n          allowfullscreen />\n      </div>\n    {/if}\n    <div class=\"content\" bind:this={content_node} data-key=\"content\">\n      {#if content.html}\n        {@html content.html}\n      {:else if docs}\n        {@html docs}\n      {:else}\n        <Icon icon=\"line-md:loading-twotone-loop\" />\n      {/if}\n    </div>\n  </main>\n</section>\n<link\n  rel=\"stylesheet\"\n  href=\"https://unpkg.com/highlightjs@9.16.2/styles/solarized-dark.css\" />\n\n<svelte:window bind:scrollY />\n"},"fields":[{"id":"wuqqk","key":"video_id","type":"text","label":"Video ID","fields":[],"options":{},"is_static":false},{"id":"ruwee","key":"content","type":"markdown","label":"Content","fields":[],"options":{"markdown":"# Introduction\nprimo is a free and open-source CMS designed for smaller sites/webapps like landing pages, blogs, brochure sites, etc. It's a lighter approach to content management which doesn't handle hosting the site, but instead uploads a static site to a connected web host (Vercel, Netlify) or Github.\n\n## Project Status\nPrimo is in Public Beta as of October 2022. It's free of major bugs and stable enough for professional as well as personal projects, though there may still be some light breaking changes in the future.\n\n## Comparison\nCompared to other monolithic CMSs like WordPress, Drupal, and Joomla, primo is a much lighter, more integrated alternative. New sites can be created instantly, hundreds of sites can be managed from the same server, and sites are modified one component at a time from an embedded code editor (as opposed to setting up a framework and local development environment).\n\n## How it works\nPrimo is a [SvelteKit](https://kit.svelte.dev) application which can be deployed as a free Vercel/Netlify/etc. project or installed as a Desktop application (running Primo in [Electron](https://electronjs.org)). Primo websites are saved in a simple JSON file which contains its pages, components, and internationalized content, and they're published as HTML, CSS, and optional JS files to a static host like Vercel or Netlify, or a Github repository. \n\n### Site Structure\n```\n{\n   pages: [{\n      id: 'index'\n      sections: [\n        {\n          id: 'iejd93',\n          type: 'component',\n          componentID: 'ep90d'\n        },\n        {\n          id: 'kaoei4',\n          type: 'content'\n        }\n      ]\n      pages: [...]\n   }],\n   components: [{\n     id: 'ep90d',\n     code: {\n       html: '<h2>{title}</h2>'\n       css: '',\n       js: ''\n     },\n     fields: [{\n       id: 'title'\n       type: 'text'\n     }]\n   }],\n   content: {\n      en: {\n        index: {\n          iejd93: {\n            title: 'hello'\n          },\n          kaoei4: '<h2>and welcome</h2>'\n        }\n      },\n      es: {\n        index: {\n          iejd93: {\n            title: 'hola'\n          },\n          kaoei4: '<h2>y bienvenidos</h2>'\n        }\n      }\n   }\n}\n```\n\nprimo includes an embedded development environment that enables devs to modify components instantly in a robust component editor. It also includes professional, pre-built components/themes which adapt to the theme of the site (set in the site's CSS).\n\n## Powered by Svelte\nprimo's power comes from Svelte, the underlying framework used to build primo components and compile websites. Although called a framework for the sake of simplicity, Svelte is actually a language that extends standard HTML, CSS, and JS and compiles into standard HTML, CSS, and little to no vanilla JavaScript (depending on how much is used in the component). As far as frontend technologies go, none comes close to Svelte in terms of approachability, simplicity, and capability, making it the ideal engine for primo (as well as the ideal engine to build primo itself)."},"is_static":false},{"id":"uhpao","key":"github_markdown_file","type":"text","label":"Github Markdown File","fields":[],"options":{},"is_static":false}],"content":{"en":{"content":{"html":"<h1 id=\"publishing\">Publishing</h1>\n<h2 id=\"yeah\">yeah</h2>\n<h2 id=\"what\">what</h2>","markdown":"# Publishing\n\n## yeah\n\n## what\n\n\n\n\n\n"},"video_id":"","github_markdown_file":""}},"site":"cd39839c-d242-4652-b902-768f8e669563"},{"id":"98ef2e01-7e22-4d4b-ad27-6a51f83bb751","name":"Content","code":{"js":"","css":".section-container {\n  max-width: 700px;\n}","html":"<div class=\"section\">\n  <div class=\"section-container content\">{@html content.html}</div>\n</div>\n"},"fields":[{"id":"lcigw","key":"content","type":"markdown","label":"Content","fields":[],"options":{},"is_static":false}],"content":{"en":{"content":{"html":"<h1>This is a content block</h1>","markdown":"# This is a content block"}}},"site":"cd39839c-d242-4652-b902-768f8e669563"}],"version":2}