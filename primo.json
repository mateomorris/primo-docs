{"site":{"id":"cd39839c-d242-4652-b902-768f8e669563","name":"Primo Docs","url":"primo-docs","code":{"js":"","css":"@import url(\"https://unpkg.com/@primo-app/primo@1.3.64/reset.css\");\n@import url(https://fonts.bunny.net/css?family=archivo:200,300,300i,400,400i,500,500i,600,600i,700,700i|inter:300,400,500,600,700,800);\n\nhtml {\n  /* Colors */\n  --color-accent: #35d994;\n\n  /* Default property values */\n  --background: #111;\n  --color: #c2c2c2;\n  --padding: 2rem;\n  --box-shadow: 0px 4px 30px rgba(0, 0, 0, 0.2);\n  --border-radius: 8px;\n  --max-width: 1200px;\n  --border-color: #333;\n  --transition-time: 0.1s;\n  --transition: var(--transition-time) color,\n    var(--transition-time) background-color, var(--transition-time) border-color,\n    var(--transition-time) text-decoration-color,\n    var(--transition-time) box-shadow, var(--transtion-time) transform;\n}\n\n#page {\n  font-family: \"Inter\", sans-serif;\n  color: var(--color);\n  line-height: 1.6;\n  font-size: 1rem;\n  background: #111;\n  font-weight: 300;\n}\n\n.content {\n  max-width: var(--max-width);\n  margin: 0 auto;\n  padding: var(--padding);\n\n  img {\n    width: 100%;\n    margin: 2rem 0;\n    box-shadow: var(--box-shadow);\n    border-radius: var(--border-radius);\n  }\n\n  p {\n    padding: 0.25rem 0;\n    line-height: 1.5;\n    color: var(--color);\n  }\n  strong {\n    font-weight: 500;\n    color: white;\n  }\n\n  a {\n    text-decoration: underline;\n  }\n\n  h1 {\n    line-height: 1.2;\n    font-size: 2.25rem;\n    font-weight: 500;\n    margin-bottom: 0.5rem;\n    color: white;\n  }\n\n  h2 {\n    font-size: 1.75rem;\n    font-weight: 500;\n    margin-bottom: 0.5rem;\n    margin-top: 2rem;\n    color: white;\n  }\n\n  h3 {\n    font-size: 1.5rem;\n    font-weight: 500;\n    margin-bottom: 0.25rem;\n    margin-top: 1rem;\n    color: white;\n  }\n\n  h4 {\n    font-size: 1.15rem;\n    font-weight: 500;\n    margin-bottom: 0.25rem;\n    margin-top: 1rem;\n    color: white;\n  }\n\n  h5 {\n    font-size: 1rem;\n    font-weight: 500;\n    margin-bottom: 0.25rem;\n    margin-top: 1rem;\n    color: white;\n  }\n\n  ul {\n    list-style: disc;\n    padding: 0.5rem 0;\n    padding-left: 1.25rem;\n  }\n\n  ol {\n    list-style: decimal;\n    padding: 0.5rem 0;\n    padding-left: 1.25rem;\n  }\n\n  blockquote {\n    border: 1px solid #222;\n    margin: 1rem 0;\n    padding: 2rem;\n    box-shadow: var(--box-shadow);\n    border-radius: var(--border-radius);\n  }\n\n  /*   pre {\n    padding: 2rem;\n    background: #222;\n    border-radius: 0.25rem;\n    margin-bottom: 2rem;\n    margin-top: 1em;\n  } */\n}\n\n.section-container {\n  max-width: var(--max-width, 1200px);\n  margin: 0 auto;\n  padding: 3rem var(--padding, 1rem);\n}\n\n.heading {\n  font-size: 3rem;\n  line-height: 1;\n  font-weight: 500;\n  margin: 0;\n}\n\n.button {\n  color: white;\n  background: var(--color-accent);\n  border-radius: 5px;\n  padding: 8px 20px;\n  transition: var(--transition);\n\n  &:hover {\n    box-shadow: 0 0 10px 5px rgba(0, 0, 0, 0.1);\n  }\n\n  &.inverted {\n    background: transparent;\n    color: var(--color-accent);\n    border: 2px solid var(--color-accent);\n  }\n}\n","html":{"head":"<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"> \n<meta charset=\"UTF-8\">\n<link rel=\"shortcut icon\" type=\"image/png\" href=\"https://res.cloudinary.com/primoaf/image/upload/v1659676914/favicon_roaxv0.png\"/>\n<script src=\"https://cdn.tailwindcss.com\"></script>\n","below":""}},"fields":[],"content":{"en":{}}},"pages":[{"id":"82a1e2ef-e867-42dc-a3e5-e9ea4bfb3a7f","url":"publishing","name":"Publishing","code":{"js":"","css":"","html":{"head":"<title>{title}</title>\n<meta name=\"description\" content={description} /> ","below":""}},"fields":[{"id":"oqark","key":"title","type":"text","label":"Title","fields":[],"options":{}},{"id":"mpjgh","key":"description","type":"text","label":"Description","fields":[],"options":{}}],"content":{"en":{"title":"Primo Docs: Publishing","description":""}},"site":"cd39839c-d242-4652-b902-768f8e669563","parent":null},{"id":"9926d51d-4e2a-403d-b94f-6b3cfcf11f7f","url":"getting-started","name":"Getting Started","code":{"js":"","css":"","html":{"head":"<title>{title}</title>\n<meta name=\"description\" content={description} />","below":""}},"fields":[{"id":"vaegu","key":"title","type":"text","label":"Title","value":"Primo Docs: Getting Started","fields":[],"options":{}},{"id":"ecmza","key":"description","type":"text","label":"Description","value":"You can download Primo as a desktop application or host it from any static host. ","fields":[],"options":{}}],"content":{"en":{"title":"Primo Docs: Getting Started","description":"You can download Primo as a desktop application or host it from any static host. "}},"site":"cd39839c-d242-4652-b902-768f8e669563","parent":null},{"id":"761d7e7e-e6dc-4210-97ed-2e4faab2cb38","url":"development","name":"Development","code":{"js":"","css":"","html":{"head":"<title>{title}</title>\n<meta name=\"description\" content={description} /> ","below":""}},"fields":[{"id":"oqark","key":"title","type":"text","label":"Title","value":"Primo Docs: Development","fields":[],"options":{}},{"id":"mpjgh","key":"description","type":"text","label":"Description","value":"","fields":[],"options":{}}],"content":{"en":{"title":"Primo Docs: Development","description":""}},"site":"cd39839c-d242-4652-b902-768f8e669563","parent":null},{"id":"f71580a8-89f6-4728-a43a-94cd7a83b26f","url":"storing-content-on-github","name":"Storing Content on GitHub","code":{"js":"","css":"","html":{"head":"<title>{title}</title>\n<meta name=\"description\" content={description} /> ","below":""}},"fields":[{"id":"oqark","key":"title","type":"text","label":"Title","fields":[],"options":{}},{"id":"mpjgh","key":"description","type":"text","label":"Description","fields":[],"options":{}}],"content":{"en":{"title":"Primo Docs: How to retrieve page content from Github","description":""}},"site":"cd39839c-d242-4652-b902-768f8e669563","parent":"092114f6-8259-4f21-8c08-3e5dfcfe2e47"},{"id":"cb10ff95-8308-4902-9be7-545afd4dfaf4","url":"adding-a-search-bar-in-primo","name":"Adding a Search Bar in Primo","code":{"js":"","css":"","html":{"head":"<title>{title}</title>\n<meta name=\"description\" content={description} />","below":""}},"fields":[{"id":"hmllu","key":"title","type":"text","label":"Title","value":"Primo Docs","fields":[],"options":{}},{"id":"sjjwb","key":"description","type":"text","label":"Description","value":"Primo is a free & open source, component-based CMS that makes it easy to build visually-editable static sites.","fields":[],"options":{}}],"content":{"en":{"title":"Primo Docs","description":"Primo is a free & open source, component-based CMS that makes it easy to build visually-editable static sites."}},"site":"cd39839c-d242-4652-b902-768f8e669563","parent":"092114f6-8259-4f21-8c08-3e5dfcfe2e47"},{"id":"611c1a8a-6b0c-48d6-82bb-05b5ea6bdb1e","url":"using-component-libraries-in-primo","name":"Using Component Libraries in Primo","code":{"js":"","css":"","html":{"head":"<title>{title}</title>\n<meta name=\"description\" content={description} />","below":""}},"fields":[{"id":"hmllu","key":"title","type":"text","label":"Title","value":"Primo Docs","fields":[],"options":{}},{"id":"sjjwb","key":"description","type":"text","label":"Description","value":"Primo is a free & open source, component-based CMS that makes it easy to build visually-editable static sites.","fields":[],"options":{}}],"content":{"en":{"title":"Primo Docs","description":"Primo is a free & open source, component-based CMS that makes it easy to build visually-editable static sites."}},"site":"cd39839c-d242-4652-b902-768f8e669563","parent":"092114f6-8259-4f21-8c08-3e5dfcfe2e47"},{"id":"af718e25-d657-4883-8d3b-78261040835f","url":"serving-pages-with-sveltekit-and-primo","name":"Serving Pages with SvelteKit & Primo","code":{"js":"","css":"","html":{"head":"<title>{title}</title>\n<meta name=\"description\" content={description} /> ","below":""}},"fields":[{"id":"oqark","key":"title","type":"text","label":"Title","fields":[],"options":{}},{"id":"mpjgh","key":"description","type":"text","label":"Description","fields":[],"options":{}}],"content":{"en":{"title":"Primo Docs: How to serve Primo pages from SvelteKit","description":""}},"site":"cd39839c-d242-4652-b902-768f8e669563","parent":"092114f6-8259-4f21-8c08-3e5dfcfe2e47"},{"id":"092114f6-8259-4f21-8c08-3e5dfcfe2e47","url":"guides","name":"Guides","code":{"js":"","css":"","html":{"head":"<title>{title}</title>\n<meta name=\"description\" content={description} /> ","below":""}},"fields":[{"id":"oqark","key":"title","type":"text","label":"Title","fields":[],"options":{}},{"id":"mpjgh","key":"description","type":"text","label":"Description","fields":[],"options":{}}],"content":{"en":{"title":"Primo Docs: Publishing","description":""}},"site":"cd39839c-d242-4652-b902-768f8e669563","parent":null},{"id":"f68c0ff7-5298-4514-a035-a9fb198aea66","url":"index","name":"Introduction","code":{"js":"","css":"","html":{"head":"<title>{title}</title>\n<meta name=\"description\" content={description} />","below":""}},"fields":[{"id":"hmllu","key":"title","type":"text","label":"Title","value":"Primo Docs","fields":[],"options":{}},{"id":"sjjwb","key":"description","type":"text","label":"Description","value":"Primo is a free & open source, component-based CMS that makes it easy to build visually-editable static sites.","fields":[],"options":{}}],"content":{"en":{"title":"Primo Docs","description":"Primo is a free & open source, component-based CMS that makes it easy to build visually-editable static sites."}},"site":"cd39839c-d242-4652-b902-768f8e669563","parent":null},{"id":"f8a3a5a4-1e53-4777-b22f-697677a7d6d5","url":"utilizing-primo-headless","name":"Utilizing Primo Headless","code":{"js":"","css":"","html":{"head":"<title>{title}</title>\n<meta name=\"description\" content={description} /> ","below":""}},"fields":[{"id":"oqark","key":"title","type":"text","label":"Title","fields":[],"options":{}},{"id":"mpjgh","key":"description","type":"text","label":"Description","fields":[],"options":{}}],"content":{"en":{"title":"Primo Docs: How to use Primo Headless","description":""}},"site":"cd39839c-d242-4652-b902-768f8e669563","parent":"092114f6-8259-4f21-8c08-3e5dfcfe2e47"}],"sections":[{"id":"f182a935-36b0-4010-9657-e9d885c5cd70","content":{"en":{"nav":[{"link":{"url":"/","label":"Introduction"}},{"link":{"url":"/getting-started","label":"Getting Started"}},{"link":{"url":"/development","label":"Development"}},{"link":{"url":"/publishing","label":"Publishing"}}],"secondary_logo":{"url":"http://localhost:5173/primo-docs","label":"docs"}}},"page":"82a1e2ef-e867-42dc-a3e5-e9ea4bfb3a7f","symbol":"a7332832-1c91-4fe4-9308-da5710b57686","index":0},{"id":"e13368da-f105-4800-8d2b-5b582007b910","content":{"en":{"content":{"html":"","markdown":""},"video_id":"","github_markdown_file":"https://raw.githubusercontent.com/primocms/docs/main/publishing.md"}},"page":"82a1e2ef-e867-42dc-a3e5-e9ea4bfb3a7f","symbol":"9aaca21c-4e7a-41d5-a03b-98dc08754b0f","index":1},{"id":"3c334e57-d41d-487c-aa47-5a915a7b2fbb","content":{"en":{"nav":[{"link":{"url":"/","label":"Introduction"}},{"link":{"url":"/getting-started","label":"Getting Started"}},{"link":{"url":"/development","label":"Development"}},{"link":{"url":"/publishing","label":"Publishing"}}],"secondary_logo":{"url":"http://localhost:5173/primo-docs","label":"docs"}}},"page":"9926d51d-4e2a-403d-b94f-6b3cfcf11f7f","symbol":"a7332832-1c91-4fe4-9308-da5710b57686","index":0},{"id":"092ada91-5fa2-4be0-b20d-446125bb9a38","content":{"en":{"content":{"html":"","markdown":""},"video_id":"LEcKmhJsUzo","github_markdown_file":"https://raw.githubusercontent.com/primocms/docs/main/getting-started.md"}},"page":"9926d51d-4e2a-403d-b94f-6b3cfcf11f7f","symbol":"9aaca21c-4e7a-41d5-a03b-98dc08754b0f","index":1},{"id":"daee91c7-bb03-4ef4-94d8-444dc0a85165","content":{"en":{"nav":[{"link":{"url":"/getting-started","label":"Getting Started"}},{"link":{"url":"/development","label":"Development"}},{"link":{"url":"/publishing","label":"Publishing"}}],"secondary_logo":{"url":"http://localhost:5173/primo-docs","label":"docs"}}},"page":"761d7e7e-e6dc-4210-97ed-2e4faab2cb38","symbol":"a7332832-1c91-4fe4-9308-da5710b57686","index":0},{"id":"40e8c7af-66bc-4eb1-980d-e56ff98159e9","content":{"en":{"content":{"html":"","markdown":""},"video_id":"","github_markdown_file":"https://raw.githubusercontent.com/primocms/docs/main/development.md"}},"page":"761d7e7e-e6dc-4210-97ed-2e4faab2cb38","symbol":"9aaca21c-4e7a-41d5-a03b-98dc08754b0f","index":1},{"id":"7cf1ea69-2b4c-4ca8-97df-ced98b9ff46a","content":{"en":{"nav":[{"link":{"url":"/getting-started","label":"Getting Started"}},{"link":{"url":"/development","label":"Development"}},{"link":{"url":"/","label":"Content Management"}}],"secondary_logo":{"url":"http://localhost:5173/primo-docs","label":"docs"}}},"page":"f71580a8-89f6-4728-a43a-94cd7a83b26f","symbol":"a7332832-1c91-4fe4-9308-da5710b57686","index":0},{"id":"fe32e1e5-b0a1-47ab-9338-debb020aae2f","content":{"en":{}},"page":"f71580a8-89f6-4728-a43a-94cd7a83b26f","symbol":"f3ebdadb-9df4-4840-bc05-7b7c73f0c9ba","index":1},{"id":"2e03442a-1554-44ec-af2a-93a1879c0013","content":{"en":{"content":{"html":"<h1 id=\"howtoretrievepagecontentfromgithub\">How to retrieve page content from Github</h1>\n<p>In the same way that you can fetch content from pages on other Primo sites, you can also fetch content from other sources - including a Github repository. Storing content in a Github repository enables you to collaborate, version, and manage it more easily. Docs sites like this one typically commit their content to Git especially to easily enable contributions and edits. Instead of having to utilize Github's API, we can easily grab content directly from the Markdown files by fetching their raw URLs.</p>\n<p>This approach allows you to build, develop, and manage your site in Primo, while committing some subset of pages to a separate repository where they can be collaborated on and versioned. For instance - on this site, the main pages are stored in a repo and the guides are fully managed from Primo.</p>\n<h2 id=\"instructions\">Instructions</h2>\n<p>Here we'll walk through how to store Markdown in a Github repo. These instructions use the Primo Docs as an example, since most of its content is stored in a repo.</p>\n<ol>\n<li><p>Set up your pages in Primo.</p></li>\n<li><p>Commit your content to a Github repo (ideally as Markdown files).\n<img src=\"https://github.com/primocms/docs/blob/main/assets/guides_storing_content_in_github.png?raw=true\" alt=\"Github docs repo\" /></p></li>\n<li><p>Fetch the content from a Block using the raw Github url. If it's stored as Markdown, you can parse it using a parsing library like <a href=\"https://github.com/showdownjs/showdown\">Showdown</a>.</p></li>\n</ol>\n<h3 id=\"example\">Example</h3>\n<p>If you've created a repository with your content and a Block with a 'URL' field with the key of <code>github_markdown_file_url</code>, the code below would render the Markdown as HTML. You can download the full Block below the code example.</p>\n<p>HTML: </p>\n<pre><code class=\"hljs\"><span class=\"language-xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span></span><span class=\"hljs-template-variable\">{@html content}</span><span class=\"language-xml\"><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n</span></code></pre>\n<p>JS:</p>\n<pre><code class=\"hljs javascript language-javascript\"><span class=\"hljs-keyword\">import</span> showdown <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&quot;showdown&quot;</span>;\n<span class=\"hljs-keyword\">const</span> converter = <span class=\"hljs-keyword\">new</span> showdown.<span class=\"hljs-title class_\">Converter</span>();\n\n<span class=\"hljs-keyword\">let</span> content = <span class=\"hljs-string\">&#x27;&#x27;</span>;\n<span class=\"hljs-keyword\">async</span> <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">get_content</span>(<span class=\"hljs-params\">url</span>) {\n  <span class=\"hljs-keyword\">const</span> markdown = <span class=\"hljs-keyword\">await</span> <span class=\"hljs-title function_\">fetch</span>(url).<span class=\"hljs-title function_\">then</span>(<span class=\"hljs-function\"><span class=\"hljs-params\">res</span> =&gt;</span> res.<span class=\"hljs-title function_\">text</span>());\n  <span class=\"hljs-keyword\">const</span> converted = converter.<span class=\"hljs-title function_\">makeHtml</span>(markdown);\n  content = converted;\n}\n<span class=\"hljs-attr\">$</span>: <span class=\"hljs-title function_\">get_content</span>(github_markdown_file_url);\n</code></pre>\n<p><button class=\"button\" data-download=\"https://raw.githubusercontent.com/primocms/docs/main/assets/Markdown%20from%20Github.json\">Download Block</button></p>","markdown":"# How to retrieve page content from Github\n\nIn the same way that you can fetch content from pages on other Primo sites, you can also fetch content from other sources - including a Github repository. Storing content in a Github repository enables you to collaborate, version, and manage it more easily. Docs sites like this one typically commit their content to Git especially to easily enable contributions and edits. Instead of having to utilize Github's API, we can easily grab content directly from the Markdown files by fetching their raw URLs.\n\nThis approach allows you to build, develop, and manage your site in Primo, while committing some subset of pages to a separate repository where they can be collaborated on and versioned. For instance - on this site, the main pages are stored in a repo and the guides are fully managed from Primo.\n\n## Instructions\n\nHere we'll walk through how to store Markdown in a Github repo. These instructions use the Primo Docs as an example, since most of its content is stored in a repo.\n\n1. Set up your pages in Primo.\n\n2. Commit your content to a Github repo (ideally as Markdown files).\n![Github docs repo](https://github.com/primocms/docs/blob/main/assets/guides_storing_content_in_github.png?raw=true)\n\n3. Fetch the content from a Block using the raw Github url. If it's stored as Markdown, you can parse it using a parsing library like [Showdown](<https://github.com/showdownjs/showdown>).\n\n### Example\nIf you've created a repository with your content and a Block with a 'URL' field with the key of `github_markdown_file_url`, the code below would render the Markdown as HTML. You can download the full Block below the code example.\n\nHTML: \n```\n<div>{@html content}</div>\n```\n\nJS:\n```javascript\nimport showdown from \"showdown\";\nconst converter = new showdown.Converter();\n\nlet content = '';\nasync function get_content(url) {\n  const markdown = await fetch(url).then(res => res.text());\n  const converted = converter.makeHtml(markdown);\n  content = converted;\n}\n$: get_content(github_markdown_file_url);\n```\n\n<button class=\"button\" data-download=\"https://raw.githubusercontent.com/primocms/docs/main/assets/Markdown%20from%20Github.json\">Download Block</button>"}}},"page":"f71580a8-89f6-4728-a43a-94cd7a83b26f","symbol":"98ef2e01-7e22-4d4b-ad27-6a51f83bb751","index":2},{"id":"67308338-f33f-4c2b-8039-2ebc5b520f88","content":{},"page":"cb10ff95-8308-4902-9be7-545afd4dfaf4","symbol":"a7332832-1c91-4fe4-9308-da5710b57686","index":0},{"id":"10cc196c-ebf3-4614-a3ac-ea0818e054a0","content":{"en":{"content":{"html":"<h1 id=\"primo\">Primo</h1>\n<p>Primo is a new kind of monolithic CMS that makes it significantly easier to publish websites by providing a delightful content management experience and an embedded development environment. Primo sites get uploaded to a Github repository as a static site bundle, from where they can be deployed to any web host (usually for free).</p>\n<h2 id=\"comparison\">Comparison</h2>\n<p>Primo is most technically different from traditional monolithic CMSs like WordPress, Drupal, and Joomla in that it doesn't host your site for you, but instead builds the site as a static bundle so that they can be hosted by a separate server. Additionally, Primo offers more immediate control over the site's code by embedding a modular development environment, where custom development in a traditional monolithic CMS is a much more involved process.</p>\n<h2 id=\"projectstatus\">Project Status</h2>\n<p>Primo version 2 is in Public Beta as of April 28, 2023. Version 2 introduces significant usability and stability improvements over version 1 and is much more scalable since it stores sites, pages, and sections in a database instead of a flat file backend.</p>\n<h2 id=\"howitworks\">How it works</h2>\n<p>Primo is a SvelteKit application using Supabase as a backend. Sites, pages, page sections, and symbols (i.e. parent components) are all stored in the database as individual rows containing each's code, fields, and content.</p>\n<p>On-page editing works by matching a block's field values to text, link, and image values or explicitly set <code>data-key</code> attributes within the block's rendered HTML. Editable text is powered by <code>contentEditable = true</code> and a TipTap/ProseMirror editor for Markdown fields. The dev environment is powered by CodeMirror.</p>\n<p>Rollup and the Svelte compiler are used to compile page blocks into Svelte components (alongside PostCSS for nesting) and to build the static files for the deployed website, which Primo then uploads to Github via its REST API.</p>","markdown":"# Primo\n\nPrimo is a new kind of monolithic CMS that makes it significantly easier to publish websites by providing a delightful content management experience and an embedded development environment. Primo sites get uploaded to a Github repository as a static site bundle, from where they can be deployed to any web host (usually for free).\n\n## Comparison\n\nPrimo is most technically different from traditional monolithic CMSs like WordPress, Drupal, and Joomla in that it doesn't host your site for you, but instead builds the site as a static bundle so that they can be hosted by a separate server. Additionally, Primo offers more immediate control over the site's code by embedding a modular development environment, where custom development in a traditional monolithic CMS is a much more involved process.\n\n## Project Status\n\nPrimo version 2 is in Public Beta as of April 28, 2023. Version 2 introduces significant usability and stability improvements over version 1 and is much more scalable since it stores sites, pages, and sections in a database instead of a flat file backend.\n\n## How it works\n\nPrimo is a SvelteKit application using Supabase as a backend. Sites, pages, page sections, and symbols (i.e. parent components) are all stored in the database as individual rows containing each's code, fields, and content.\n\nOn-page editing works by matching a block's field values to text, link, and image values or explicitly set `data-key` attributes within the block's rendered HTML. Editable text is powered by `contentEditable = true` and a TipTap/ProseMirror editor for Markdown fields. The dev environment is powered by CodeMirror.\n\nRollup and the Svelte compiler are used to compile page blocks into Svelte components (alongside PostCSS for nesting) and to build the static files for the deployed website, which Primo then uploads to Github via its REST API.\n\n"},"video_id":"","github_markdown_file":"https://raw.githubusercontent.com/primocms/primo/master/README.md"}},"page":"cb10ff95-8308-4902-9be7-545afd4dfaf4","symbol":"9aaca21c-4e7a-41d5-a03b-98dc08754b0f","index":1},{"id":"401a0a50-eb0d-4271-940c-e5639ea99751","content":{},"page":"611c1a8a-6b0c-48d6-82bb-05b5ea6bdb1e","symbol":"a7332832-1c91-4fe4-9308-da5710b57686","index":0},{"id":"89a8fa33-3d6b-477f-a068-413f3bf216c3","content":{"en":{}},"page":"611c1a8a-6b0c-48d6-82bb-05b5ea6bdb1e","symbol":"f3ebdadb-9df4-4840-bc05-7b7c73f0c9ba","index":1},{"id":"fde21ed7-7af0-4415-8db1-f6572bd5d5a5","content":{"en":{"content":{"html":"<h1 id=\"usingcomponentlibrariesinprimo\">Using Component Libraries in Primo</h1>\n<p>You can build more quickly in Primo by utilizing external component libraries meant to work with Svelte or HTML/CSS. Since you don't have to <code>npm install</code> in Primo, you can use <em>most</em> component libraries by importing the library or individual component in your Block's JS and mounting it from your Block's HTML. Workarounds are necessary in some cases to get certain libraries to import correctly. By importing components individually, you can also cherry pick components from different systems. </p>\n<h2 id=\"carbondesignsystemhttpscarbondesignsystemcom\"><a href=\"https://carbondesignsystem.com/\">Carbon Design System</a></h2>\n<ol>\n<li>Use <a href=\"https://carbon-components-svelte.onrender.com/\">Carbon Components Svelte</a> </li>\n<li>Import components from your Block's JS as direct imports  (see the <a href=\"https://cdn.jsdelivr.net/npm/carbon-components-svelte/src/\">full list of components</a>) rather than named imports. Mount them in your HTML. </li>\n<li>Link the stylesheet from your Block's HTML. </li>\n</ol>\n<h3 id=\"exampleaccordionhttpscarboncomponentssvelteonrendercomcomponentsaccordion\">Example (<a href=\"https://carbon-components-svelte.onrender.com/components/Accordion\">Accordion</a>)</h3>\n<p>Here we're importing the <code>Accordion</code> and <code>AccordionItem</code> components and creating a repeater field to create content for each accordion item. \n<img src=\"https://dbfnrqvkgwkjkzqgnfrd.supabase.co/storage/v1/object/public/images/manual/Screenshot%202023-09-15%20at%201.57.55%20PM.png?t=2023-09-15T17%3A59%3A10.238Z\" alt=\"carbon component in Primo\" /></p>\n<p><strong>HTML</strong></p>\n<pre><code class=\"hljs html language-html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Accordion</span>&gt;</span>\n  {#each items as { title, content }}\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">AccordionItem</span> {<span class=\"hljs-attr\">title</span>}&gt;</span>\n      {@html content}\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">AccordionItem</span>&gt;</span>\n  {/each}\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">Accordion</span>&gt;</span>\n\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">link</span>\n  <span class=\"hljs-attr\">rel</span>=<span class=\"hljs-string\">&quot;stylesheet&quot;</span>\n  <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">&quot;https://unpkg.com/carbon-components-svelte/css/white.css&quot;</span> /&gt;</span>\n</code></pre>\n<p><br>\n<strong>JS</strong> </p>\n<pre><code class=\"hljs javascript language-javascript\"><span class=\"hljs-keyword\">import</span> <span class=\"hljs-title class_\">Accordion</span> <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&quot;carbon-components-svelte/src/Accordion/Accordion.svelte&quot;</span>;\n<span class=\"hljs-keyword\">import</span> <span class=\"hljs-title class_\">AccordionItem</span> <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&quot;carbon-components-svelte/src/Accordion/AccordionItem.svelte&quot;</span>;\n</code></pre>\n<p><br>\n<strong>Fields</strong></p>\n<pre><code class=\"hljs text language-text\">Repeater -&gt; Title (text), Content (markdown)\n</code></pre>\n<hr />\n<h2 id=\"shoelacehttpsshoelacestyle\"><a href=\"https://shoelace.style/\">Shoelace</a></h2>\n<p>The autoloader doesn't work, but you can import components individually (see the 'installing' section at the bottom of any component's page for a CDN url). </p>\n<h3 id=\"examplecarouselhttpsshoelacestylecomponentscarousel\">Example (<a href=\"https://shoelace.style/components/carousel\">Carousel</a>)</h3>\n<p>Here we're importing the Carousel component and setting up a repeater field for each carousel item containing an image field type. </p>\n<p><img src=\"https://dbfnrqvkgwkjkzqgnfrd.supabase.co/storage/v1/object/public/images/manual/Screenshot%202023-09-15%20at%203.38.46%20PM.png?t=2023-09-15T19%3A39%3A06.825Z\" alt=\"Shoelace in Primo\" /></p>\n<p><img src=\"https://dbfnrqvkgwkjkzqgnfrd.supabase.co/storage/v1/object/public/images/manual/Screenshot%202023-09-15%20at%203.40.40%20PM.png?t=2023-09-15T19%3A41%3A03.554Z\" alt=\"Fields for Shoelace component in Primo\" /></p>\n<p><strong>HTML</strong></p>\n<pre><code class=\"hljs html language-html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;section-container&quot;</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">sl-carousel</span> <span class=\"hljs-attr\">pagination</span> <span class=\"hljs-attr\">navigation</span> <span class=\"hljs-attr\">loop</span>&gt;</span>\n    {#each carousel_items as { image }}\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">sl-carousel-item</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">img</span> <span class=\"hljs-attr\">alt</span>=<span class=\"hljs-string\">{image.alt}</span> <span class=\"hljs-attr\">src</span>=<span class=\"hljs-string\">{image.src}</span> /&gt;</span>\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">sl-carousel-item</span>&gt;</span>\n    {/each}\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">sl-carousel</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n</code></pre>\n<p><br></p>\n<p><strong>JS</strong></p>\n<pre><code class=\"hljs javascript language-javascript\"><span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">&#x27;https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.8.0/cdn/components/carousel/carousel.js&#x27;</span>;\n</code></pre>\n<hr />\n<h2 id=\"flowbitehttpsflowbitecom\"><a href=\"https://flowbite.com/\">Flowbite</a></h2>\n<p>Flowbite is a <a href=\"https://tailwindcss.com\">Tailwind CSS</a> library, and <a href=\"https://flowbite-svelte.com/\">Flowbite Svelte</a> is its Svelte version. It requires adding Tailwind using its JS Play CDN (meaning it needs to load the library in the client before it can render the utility class styles), but for most projects this won't be an issue. </p>\n<ol>\n<li>Use <a href=\"https://flowbite-svelte.com/\">Flowbite Svelte</a></li>\n<li>Import components as described in the Flowbite Svelte docs. </li>\n<li>Install Tailwind in your page or site by adding the <a href=\"https://tailwindcss.com/docs/installation/play-cdn\">Tailwind Play CDN script</a>  to your Page or Site HTML. </li>\n</ol>\n<h3 id=\"exampletabshttpsflowbitesveltecomdocscomponentstabs\">Example (<a href=\"https://flowbite-svelte.com/docs/components/tabs\">Tabs)</a></h3>\n<p>Here we're importing the Tabs component and setting up a repeater field for each tab item containing a Text and Markdown field type, destructing the <code>title</code> and <code>content</code> subfields to make them easier to pass along.</p>\n<p><strong>HTML</strong></p>\n<pre><code class=\"hljs html language-html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Tabs</span> <span class=\"hljs-attr\">defaultClass</span>=<span class=\"hljs-string\">&quot;flex rounded-lg divide-x divide-gray-200 shadow dark:divide-gray-700&quot;</span>&gt;</span>\n  {#each tabs as {title, content}}\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">TabItem</span> {<span class=\"hljs-attr\">title</span>}&gt;</span>\n      {@html content}\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">TabItem</span>&gt;</span>\n  {/each}\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">Tabs</span>&gt;</span>\n</code></pre>\n<p><br>\n<strong>JS</strong></p>\n<pre><code class=\"hljs JS language-JS\">  <span class=\"hljs-keyword\">import</span> { <span class=\"hljs-title class_\">Tabs</span>, <span class=\"hljs-title class_\">TabItem</span> } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&#x27;flowbite-svelte&#x27;</span>;\n</code></pre>","markdown":"# Using Component Libraries in Primo\nYou can build more quickly in Primo by utilizing external component libraries meant to work with Svelte or HTML/CSS. Since you don't have to `npm install` in Primo, you can use *most* component libraries by importing the library or individual component in your Block's JS and mounting it from your Block's HTML. Workarounds are necessary in some cases to get certain libraries to import correctly. By importing components individually, you can also cherry pick components from different systems. \n\n## [Carbon Design System](https://carbondesignsystem.com/)\n1. Use [Carbon Components Svelte](https://carbon-components-svelte.onrender.com/) \n2. Import components from your Block's JS as direct imports  (see the [full list of components](https://cdn.jsdelivr.net/npm/carbon-components-svelte/src/)) rather than named imports. Mount them in your HTML. \n3. Link the stylesheet from your Block's HTML. \n\n### Example ([Accordion](https://carbon-components-svelte.onrender.com/components/Accordion))\nHere we're importing the `Accordion` and `AccordionItem` components and creating a repeater field to create content for each accordion item. \n![carbon component in Primo](https://dbfnrqvkgwkjkzqgnfrd.supabase.co/storage/v1/object/public/images/manual/Screenshot%202023-09-15%20at%201.57.55%20PM.png?t=2023-09-15T17%3A59%3A10.238Z)\n\n**HTML**\n```html\n<Accordion>\n  {#each items as { title, content }}\n    <AccordionItem {title}>\n      {@html content}\n    </AccordionItem>\n  {/each}\n</Accordion>\n\n<link\n  rel=\"stylesheet\"\n  href=\"https://unpkg.com/carbon-components-svelte/css/white.css\" />\n```\n<br>\n**JS** \n```javascript\nimport Accordion from \"carbon-components-svelte/src/Accordion/Accordion.svelte\";\nimport AccordionItem from \"carbon-components-svelte/src/Accordion/AccordionItem.svelte\";\n```\n\n<br>\n**Fields**\n```text\nRepeater -> Title (text), Content (markdown)\n```\n\n---\n\n## [Shoelace](https://shoelace.style/)\nThe autoloader doesn't work, but you can import components individually (see the 'installing' section at the bottom of any component's page for a CDN url). \n\n### Example ([Carousel](https://shoelace.style/components/carousel))\nHere we're importing the Carousel component and setting up a repeater field for each carousel item containing an image field type. \n\n![Shoelace in Primo](https://dbfnrqvkgwkjkzqgnfrd.supabase.co/storage/v1/object/public/images/manual/Screenshot%202023-09-15%20at%203.38.46%20PM.png?t=2023-09-15T19%3A39%3A06.825Z)\n\n![Fields for Shoelace component in Primo](https://dbfnrqvkgwkjkzqgnfrd.supabase.co/storage/v1/object/public/images/manual/Screenshot%202023-09-15%20at%203.40.40%20PM.png?t=2023-09-15T19%3A41%3A03.554Z)\n\n\n**HTML**\n\n```html\n<div class=\"section-container\">\n  <sl-carousel pagination navigation loop>\n    {#each carousel_items as { image }}\n      <sl-carousel-item>\n        <img alt={image.alt} src={image.src} />\n      </sl-carousel-item>\n    {/each}\n  </sl-carousel>\n</div>\n```\n<br>\n\n**JS**\n```javascript\nimport 'https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.8.0/cdn/components/carousel/carousel.js';\n```\n\n---\n\n## [Flowbite](https://flowbite.com/)\nFlowbite is a [Tailwind CSS](https://tailwindcss.com) library, and [Flowbite Svelte](https://flowbite-svelte.com/) is its Svelte version. It requires adding Tailwind using its JS Play CDN (meaning it needs to load the library in the client before it can render the utility class styles), but for most projects this won't be an issue. \n\n1. Use [Flowbite Svelte](https://flowbite-svelte.com/)\n2. Import components as described in the Flowbite Svelte docs. \n3. Install Tailwind in your page or site by adding the [Tailwind Play CDN script](https://tailwindcss.com/docs/installation/play-cdn)  to your Page or Site HTML. \n\n### Example ([Tabs)](https://flowbite-svelte.com/docs/components/tabs)\nHere we're importing the Tabs component and setting up a repeater field for each tab item containing a Text and Markdown field type, destructing the `title` and `content` subfields to make them easier to pass along.\n\n**HTML**\n```html\n<Tabs defaultClass=\"flex rounded-lg divide-x divide-gray-200 shadow dark:divide-gray-700\">\n  {#each tabs as {title, content}}\n    <TabItem {title}>\n      {@html content}\n  </TabItem>\n  {/each}\n</Tabs>\n```\n<br>\n**JS**\n```JS\n  import { Tabs, TabItem } from 'flowbite-svelte';\n``` "},"video_id":"","github_markdown_file":""}},"page":"611c1a8a-6b0c-48d6-82bb-05b5ea6bdb1e","symbol":"9aaca21c-4e7a-41d5-a03b-98dc08754b0f","index":2},{"id":"1cc78e2c-aaca-419e-8984-43d98c64711a","content":{"en":{"nav":[{"link":{"url":"/","label":"Introduction"}},{"link":{"url":"/getting-started","label":"Getting Started"}},{"link":{"url":"/development","label":"Development"}},{"link":{"url":"/publishing","label":"Publishing"}}],"secondary_logo":{"url":"http://localhost:5173/primo-docs","label":"docs"}}},"page":"af718e25-d657-4883-8d3b-78261040835f","symbol":"a7332832-1c91-4fe4-9308-da5710b57686","index":0},{"id":"d768fbf7-63b0-4b43-921e-749379519ffe","content":{"en":{}},"page":"af718e25-d657-4883-8d3b-78261040835f","symbol":"f3ebdadb-9df4-4840-bc05-7b7c73f0c9ba","index":1},{"id":"b3aa097b-63b5-4b74-be9c-0abd86ed6321","content":{"en":{"content":{"html":"<h1>How to serve Primo pages from SvelteKit</h1><p>You can use the serverside load hook to intercept requests based on a blocklist or allowlist and fetch/return a static Primo page from the site’s repository instead.</p><p>This is useful when you have some content pages in your SvelteKit app that you want to have easily by yourself and other content editors, or when you have a full Primo site that you want to wrap in a SvelteKit application.</p><h2>Example</h2><p><a target=\"_blank\" rel=\"noopener noreferrer nofollow\" class=\"link link\" href=\"https://github.com/primocms/sveltekit-with-primo\">Here’s a repo</a> that demonstrates how to load Primo pages from a SvelteKit codebase.</p><p></p><p></p><p></p><p></p><p></p><p></p>","markdown":"# How to serve Primo pages from SvelteKit\n\nYou can use the serverside load hook to intercept requests based on a blocklist or allowlist and fetch/return a static Primo page from the site’s repository instead.\n\nThis is useful when you have some content pages in your SvelteKit app that you want to have easily by yourself and other content editors, or when you have a full Primo site that you want to wrap in a SvelteKit application.\n\n## Example\n\n[Here’s a repo](<https://github.com/primocms/sveltekit-with-primo>) that demonstrates how to load Primo pages from a SvelteKit codebase.\n\n\n\n\n\n\n\n\n\n\n\n\n\n"},"video_id":"","github_markdown_file":""}},"page":"af718e25-d657-4883-8d3b-78261040835f","symbol":"9aaca21c-4e7a-41d5-a03b-98dc08754b0f","index":2},{"id":"aa069f0f-9c54-4115-8be3-599f652080f6","content":{"en":{"nav":[{"link":{"url":"/","label":"Introduction"}},{"link":{"url":"/getting-started","label":"Getting Started"}},{"link":{"url":"/development","label":"Development"}},{"link":{"url":"/publishing","label":"Publishing"}}],"secondary_logo":{"url":"http://localhost:5173/primo-docs","label":"docs"}}},"page":"092114f6-8259-4f21-8c08-3e5dfcfe2e47","symbol":"a7332832-1c91-4fe4-9308-da5710b57686","index":0},{"id":"888dfc45-d58f-44e8-9e9a-4084ac7a8237","content":{"en":{"root_page":"Guides"}},"page":"092114f6-8259-4f21-8c08-3e5dfcfe2e47","symbol":"71632131-9686-4f57-8bbc-5f43ac34b485","index":1},{"id":"048949ec-a789-4537-bfd4-8dfe8004d274","content":{},"page":"f68c0ff7-5298-4514-a035-a9fb198aea66","symbol":"a7332832-1c91-4fe4-9308-da5710b57686","index":0},{"id":"a27d2a89-a841-4f31-b038-011c23026664","content":{"en":{"content":{"html":"<h1 id=\"primo\">Primo</h1>\n<p>Primo is a new kind of monolithic CMS that makes it significantly easier to publish websites by providing a delightful content management experience and an embedded development environment. Primo sites get uploaded to a Github repository as a static site bundle, from where they can be deployed to any web host (usually for free).</p>\n<h2 id=\"comparison\">Comparison</h2>\n<p>Primo is most technically different from traditional monolithic CMSs like WordPress, Drupal, and Joomla in that it doesn't host your site for you, but instead builds the site as a static bundle so that they can be hosted by a separate server. Additionally, Primo offers more immediate control over the site's code by embedding a modular development environment, where custom development in a traditional monolithic CMS is a much more involved process.</p>\n<h2 id=\"projectstatus\">Project Status</h2>\n<p>Primo version 2 is in Public Beta as of April 28, 2023. Version 2 introduces significant usability and stability improvements over version 1 and is much more scalable since it stores sites, pages, and sections in a database instead of a flat file backend.</p>\n<h2 id=\"howitworks\">How it works</h2>\n<p>Primo is a SvelteKit application using Supabase as a backend. Sites, pages, page sections, and symbols (i.e. parent components) are all stored in the database as individual rows containing each's code, fields, and content.</p>\n<p>On-page editing works by matching a block's field values to text, link, and image values or explicitly set <code>data-key</code> attributes within the block's rendered HTML. Editable text is powered by <code>contentEditable = true</code> and a TipTap/ProseMirror editor for Markdown fields. The dev environment is powered by CodeMirror.</p>\n<p>Rollup and the Svelte compiler are used to compile page blocks into Svelte components (alongside PostCSS for nesting) and to build the static files for the deployed website, which Primo then uploads to Github via its REST API.</p>","markdown":"# Primo\n\nPrimo is a new kind of monolithic CMS that makes it significantly easier to publish websites by providing a delightful content management experience and an embedded development environment. Primo sites get uploaded to a Github repository as a static site bundle, from where they can be deployed to any web host (usually for free).\n\n## Comparison\n\nPrimo is most technically different from traditional monolithic CMSs like WordPress, Drupal, and Joomla in that it doesn't host your site for you, but instead builds the site as a static bundle so that they can be hosted by a separate server. Additionally, Primo offers more immediate control over the site's code by embedding a modular development environment, where custom development in a traditional monolithic CMS is a much more involved process.\n\n## Project Status\n\nPrimo version 2 is in Public Beta as of April 28, 2023. Version 2 introduces significant usability and stability improvements over version 1 and is much more scalable since it stores sites, pages, and sections in a database instead of a flat file backend.\n\n## How it works\n\nPrimo is a SvelteKit application using Supabase as a backend. Sites, pages, page sections, and symbols (i.e. parent components) are all stored in the database as individual rows containing each's code, fields, and content.\n\nOn-page editing works by matching a block's field values to text, link, and image values or explicitly set `data-key` attributes within the block's rendered HTML. Editable text is powered by `contentEditable = true` and a TipTap/ProseMirror editor for Markdown fields. The dev environment is powered by CodeMirror.\n\nRollup and the Svelte compiler are used to compile page blocks into Svelte components (alongside PostCSS for nesting) and to build the static files for the deployed website, which Primo then uploads to Github via its REST API.\n\n"},"video_id":"","github_markdown_file":"https://raw.githubusercontent.com/primocms/primo/master/README.md"}},"page":"f68c0ff7-5298-4514-a035-a9fb198aea66","symbol":"9aaca21c-4e7a-41d5-a03b-98dc08754b0f","index":1},{"id":"be32c820-bb46-494c-b146-c7038622e617","content":{"en":{"nav":[{"link":{"url":"/","label":"Introduction"}},{"link":{"url":"/getting-started","label":"Getting Started"}},{"link":{"url":"/development","label":"Development"}},{"link":{"url":"/publishing","label":"Publishing"}}],"secondary_logo":{"url":"http://localhost:5173/primo-docs","label":"docs"}}},"page":"f8a3a5a4-1e53-4777-b22f-697677a7d6d5","symbol":"a7332832-1c91-4fe4-9308-da5710b57686","index":0},{"id":"a5652620-9157-4823-ba70-02f8790bcfc1","content":{"en":{}},"page":"f8a3a5a4-1e53-4777-b22f-697677a7d6d5","symbol":"f3ebdadb-9df4-4840-bc05-7b7c73f0c9ba","index":1},{"id":"cf17a964-f5ca-4c92-b23f-917f7fb9ef3b","content":{"en":{"content":{"html":"<h1 id=\"howtouseprimoheadless\">How to use Primo Headless</h1>\n<blockquote>\n  <p>This guide is about accessing a Primo site’s content from a framework. To <em>render</em> Primo pages from within your existing SvelteKit codebase, read <a href=\"https://docs.primocms.org/guides/how-to-serve-primo-pages-from-sveltekit\">using Primo with SvelteKit</a>.</p>\n</blockquote>\n<p>You can access your site from any frontend framework by fetching its site file from its deployed repository.</p>\n<p>A site file is a JSON file deployed with Primo sites which has the properties of “site, pages, sections, symbols”. It defines the entire site and is rarely larger than half a megabyte but can inflate if storing a lot of content or code.</p>\n<h2 id=\"example\">Example</h2>\n<p>In <a href=\"https://github.com/mateomorris/primo-headless\">this SvelteKit repository</a>, we can see the site file being fetched directly from the site’s repository in order to hydrate some content in the application (in this case blog posts). It gets the list of blog posts from the list of child pages of Blog. Since the content is fetched from the server, it loads fully rendered.</p>","markdown":"# How to use Primo Headless\n\n> This guide is about accessing a Primo site’s content from a framework. To *render* Primo pages from within your existing SvelteKit codebase, read [using Primo with SvelteKit](<https://docs.primocms.org/guides/how-to-serve-primo-pages-from-sveltekit>).\n\nYou can access your site from any frontend framework by fetching its site file from its deployed repository.\n\nA site file is a JSON file deployed with Primo sites which has the properties of “site, pages, sections, symbols”. It defines the entire site and is rarely larger than half a megabyte but can inflate if storing a lot of content or code.\n\n## Example\n\nIn [this SvelteKit repository](<https://github.com/mateomorris/primo-headless>), we can see the site file being fetched directly from the site’s repository in order to hydrate some content in the application (in this case blog posts). It gets the list of blog posts from the list of child pages of Blog. Since the content is fetched from the server, it loads fully rendered.\n\n\n\n\n\n\n\n\n\n"}}},"page":"f8a3a5a4-1e53-4777-b22f-697677a7d6d5","symbol":"98ef2e01-7e22-4d4b-ad27-6a51f83bb751","index":2}],"symbols":[{"id":"f3ebdadb-9df4-4840-bc05-7b7c73f0c9ba","name":"Breadcrumbs","code":{"js":"import {fade} from 'svelte/transition'\n\n\nconst in_primo = window.location.origin.includes('vercel')\nconst url = new URL(in_primo ? 'https://docs.primocms.org/guides/how-to-use-primo-headless' : window.location.href);\nconst parts = url.pathname.split(\"/\").filter(Boolean); // Split by '/' and filter out empty strings\n\nlet breadcrumbs = [];\nfetch(\"https://docs.primocms.org/primo.json\")\n  .then((res) => res.json())\n  .then((data) => {\n    const page = data.pages.find((page) => page.url === parts[0]);\n    const child = data.pages.find((page) => page.url === parts[1]);\n    // console.log({ page, child });\n\n    breadcrumbs = [\n      {\n        url: `/`,\n        name: \"Docs\",\n      },\n      ...(child\n        ? [\n            {\n              url: `/${page.url}`,\n              name: page.name,\n            },\n            {\n              url: `/${page.url}/${child.url}`,\n              name: child.name,\n            },\n          ]\n        : [\n            {\n              url: `/${page.url}`,\n              name: page.name,\n            },\n          ]),\n    ];\n  });\n","css":".section-container {\n  /* max-width: 700px; */\n  padding-block: 1rem;\n}\n\nul {\n  display: flex;\n  gap: 1rem;\n}\n\nli {\n  display: flex;\n\n  &:not(:last-child):after {\n    content: \">\";\n    padding-left: 1rem;\n    font-weight: 700;\n  }\n}\n\na {\n  text-decoration: underline;\n}\n","html":"<div class=\"section-container\">\n  {#if breadcrumbs.length > 0}\n    <ul in:fade={{duration: 100}}>\n      {#each breadcrumbs as { url, name }, i}\n        <li>\n          {#if i === breadcrumbs.length - 1}\n            <span>{name}</span>\n          {:else}\n            <a href={url}>{name}</a>\n          {/if}\n        </li>\n      {/each}\n    </ul>\n  {/if}\n</div>\n"},"fields":[],"content":{"en":{}},"site":"cd39839c-d242-4652-b902-768f8e669563"},{"id":"b8238357-c83c-4d3a-879c-1b112c185256","name":"Personal Profile (Fields Example)","code":{"js":"","css":".container {\n  max-width: 500px;\n  margin: 1rem auto;\n  border: 1px solid #222;\n  padding: 1rem;\n  border-radius: 0.25rem;\n}","html":"<div class=\"container\">\n  <img src={profile_photo.url} alt={profile_photo.alt}>\n  <h1>{name}</h1>\n  <div class=\"bio\">{@html biography.html}</div>\n</div>"},"fields":[{"id":"mmyqu","key":"","type":"info","label":"","fields":[],"options":{"info":"# Personal Profile\nThis is a personal profile for an individual. "},"is_static":false},{"id":"rnvgj","key":"profile_photo","type":"image","label":"Profile Photo","fields":[],"options":{},"is_static":false},{"id":"lpmym","key":"name","type":"text","label":"Name","fields":[],"options":{},"is_static":false},{"id":"ujgia","key":"age","type":"number","label":"Age","fields":[],"options":{},"is_static":false},{"id":"sestz","key":"biography","type":"markdown","label":"Biography","fields":[],"options":{},"is_static":false},{"id":"uvocz","key":"available","type":"switch","label":"Looking for a relationship","fields":[],"options":{},"is_static":false},{"id":"skjgm","key":"personal_website","type":"url","label":"Personal Website","fields":[],"options":{},"is_static":false},{"id":"nlsnb","key":"company_website","type":"link","label":"Company Website","fields":[],"options":{},"is_static":false},{"id":"xgqok","key":"gender","type":"select","label":"Gender","fields":[],"options":{"options":[{"label":"Male","value":"male"},{"label":"Female","value":"female"}]},"is_static":false},{"id":"pgfip","key":"social_media","type":"repeater","label":"Social Media","fields":[{"id":"kzxfg","key":"link","type":"link","label":"Link","value":{"url":"","label":""},"fields":[],"options":{},"is_static":false},{"id":"ehxkd","key":"icon","type":"text","label":"Icon","value":"","fields":[],"options":{},"is_static":false}],"options":{},"is_static":false}],"content":{"en":{"":"","age":"32","name":"Abdelfatah Ahmed","gender":"male","available":true,"biography":{"html":"<p>Hello! I'm Mateo. This is my personal profile.</p>","markdown":"Hello! I'm Mateo. This is my personal profile."},"social_media":[{"icon":"mdi:twitter","link":{"url":"https://twitter.com","label":"Twitter"}},{"icon":"ic:baseline-facebook","link":{"url":"https://facebook.com","label":"Facebook"}},{"icon":"mdi:youtube","link":{"url":"https://youtube.com","label":"Youtube"}}],"profile_photo":{"alt":"","src":"https://images.unsplash.com/photo-1648199153655-1213e44a6828?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1335&q=80","url":"https://images.unsplash.com/photo-1648199153655-1213e44a6828?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1335&q=80","size":null},"company_website":{"url":"https://primocms.org","label":"Bombastic Industries"},"personal_website":"https://primocms.org"}},"site":"cd39839c-d242-4652-b902-768f8e669563"},{"id":"98ef2e01-7e22-4d4b-ad27-6a51f83bb751","name":"Content","code":{"js":"import fileSaver from \"file-saver\";\n\nlet content_node;\n\n$: if (content_node) {\n  const button = content_node.querySelector(\"button[data-download]\");\n  if (button) {\n    const download_url = button.dataset.download;\n    button.onclick = () => {\n      fetch(download_url)\n        .then((response) => response.blob()) // get the response as a Blob\n        .then((blob) => {\n          fileSaver.saveAs(blob, \"block.json\"); // name the file as you wish\n        })\n        .catch(console.error); // log errors\n    };\n  }\n}\n","css":".section-container {\n  max-width: 700px;\n}\n\n.content {\n  :global(.button) {\n    color: #222;\n    text-decoration: none;\n    font-weight: 500;\n    margin-block: 1.5rem;\n    display: inline-block;\n  }\n}","html":"<div class=\"section\">\n  <div bind:this={content_node} class=\"section-container content\" data-key=\"null\">{@html content.html}</div>\n</div>\n<link\n  rel=\"stylesheet\"\n  href=\"https://unpkg.com/highlightjs@9.16.2/styles/solarized-dark.css\" />\n"},"fields":[{"id":"lcigw","key":"content","type":"markdown","label":"Content","fields":[],"options":{},"is_static":false}],"content":{"en":{"content":{"html":"<h1>This is a content block</h1>","markdown":"# This is a content block"}}},"site":"cd39839c-d242-4652-b902-768f8e669563"},{"id":"71632131-9686-4f57-8bbc-5f43ac34b485","name":"Page List","code":{"js":"import axios from \"axios\";\nimport { onMount } from \"svelte\";\nimport Icon from \"@iconify/svelte/dist/Icon.svelte\";\n\nlet parent_page = {}\n\nfunction get_title(page) {\n  return page.sections[1][\"content\"][\"en\"][\"heading\"] || null\n}\n\nfunction get_description(page) {\n  return page.sections[1][\"content\"][\"en\"][\"content\"] ? page.sections[1][\"content\"][\"en\"][\"content\"] .html : null\n}\n\nasync function get_pages() {\n  const data = await axios.get(\"/primo.json\").then((res) =>{\n    console.log(res)\n    return  res.data\n  })\n  console.log({data})\n  parent_page = data.pages.find((page) => page.name === root_page);\n\n  // console.log(data);\n  if (root_page) {\n    const child_pages = data.pages\n      .filter((page) => page.parent === parent_page.id)\n      .map((page) => ({\n        ...page,\n        sections: data.sections\n          .filter((section) => section.page === page.id)\n          .sort((a, b) => a.index - b.index),\n      }));\n\n    // console.log({ child_pages });\n\n    return child_pages;\n  } else {\n    return data.pages;\n  }\n}\n","css":".heading {\n  text-align: left;\n  margin-bottom: 1rem;\n  font-size: 2rem;\n}\n\nul {\n  list-style: disc;\n  padding-left: 1rem;\n  display: grid;\n  gap: 0.5rem;\n}\n\nli {\n  position: relative;\n}\n\na {\n  font-size: 1.5rem;\n\n  &:hover + .tooltip {\n    display: block;\n  }\n}\n\n.tooltip {\n  color: white;\n  background: #222;\n  padding: 1rem;\n  border-radius: 0.25rem;\n  position: absolute;\n  z-index: 1;\n  left: 0;\n  display: none;\n  margin-top: 0.25rem;\n  max-width: 500px;\n\n  .title {\n    font-weight: 600;\n    font-size: 1.125rem;\n  }\n\n  &:empty {\n    display: none;\n  }\n}\n","html":"<div class=\"section-container\">\n  {#if root_page}\n    <div class=\"heading\" data-key=\"root_page\">{root_page}</div>\n  {/if}\n  {#key root_page}\n    {#await get_pages()}\n      <Icon width=\"50\" icon=\"line-md:loading-twotone-loop\" />\n    {:then pages}\n      <ul>\n        {#each pages as page}\n          <li>\n            <a class=\"link underlined\" href={parent_page ? `${parent_page.url}/${page.url}` : `/${page.url}`}>{page.name}</a>\n            {#if get_title(page) || get_description(page)}\n              <div class=\"tooltip\">\n                {#if get_title(page)}\n                  <div class=\"title\">{@html get_title(page)}</div>\n                {/if}\n                <div class=\"description\">{@html get_description(page)}</div>\n              </div>\n            {/if}\n          </li>\n        {/each}\n      </ul>\n    {:catch error}\n      <span>promise was rejected</span>\n    {/await}\n  {/key}\n</div>\n"},"fields":[{"id":"ootgd","key":"root_page","type":"text","label":"Root Page","fields":[],"options":{},"is_static":false}],"content":{"en":{"root_page":"About"}},"site":"cd39839c-d242-4652-b902-768f8e669563"},{"id":"9c08e97e-0c43-47e1-a6a7-e47b0c5fee27","name":"Site Navigation","code":{"js":"import Icon from '@iconify/svelte/dist/Icon.svelte'\nimport {fade} from 'svelte/transition' \n\nlet mobileNavOpen = false \n\nfunction toggleMobileNav() {\n  mobileNavOpen = !mobileNavOpen\n}\n","css":"header {\n  background: var(--background, white);\n  border-bottom: 1px solid var(--border-color, #e5e5e7);\n}\n\n.section-container {\n  padding-top: 1rem;\n  padding-bottom: 1rem;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.logos {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  color: var(--color-accent);\n\n  .is-primo svg {\n    width: 7rem;\n    color: white;\n    transform: translateY(-1px);\n  }\n\n  a.link {\n    color: var(--color);\n    border-bottom: 2px solid transparent;\n    transition: border-color 0.1s;\n    span {\n      font-size: 1rem;\n      font-weight: 400;\n    }\n\n    &:first-child {\n      color: var(--color-accent);\n      padding-bottom: 3px;\n      transform: translateY(5px);\n    }\n\n    &:hover {\n      border-color: var(--color-accent);\n      color: white;\n    }\n  }\n}\n\nnav {\n  display: flex;\n  align-items: center;\n  gap: 2rem;\n\n  a.link.active {\n    border-bottom: 2px solid var(--color-accent);\n    transition: border-color 0.1s;\n    font-size: 1rem;\n\n  }\n\n  a.link {\n    display: none;\n\n    &:hover{\n      color: white;\n      transition: .3s;\n    }\n  }\n\n  button#close {\n    display: none;\n  }\n}\n\n.call-to-action {\n  display: flex;\n  align-items: center;\n  gap: 1.5rem;\n\n  #theme {\n    svg {\n      width: 1.25rem;\n      height: 1.25rem;\n    }\n  }\n\n  :global(.locale-selector select) {\n    background: transparent;\n  }\n}\n\nnav#mobile-nav {\n  position: absolute;\n  flex-direction: column;\n  text-align: center;\n  background: var(--background);\n  box-shadow: var(--box-shadow);\n  border-radius: var(--border-radius);\n  left: 0.5rem;\n  top: 0.5rem;\n  right: 0.5rem;\n  padding: 2rem;\n  z-index: 9;\n\n  a.link {\n    display: block;\n  }\n\n  /*   Button */\n  /*   a:last-of-type {\n    color: var(--button-color, white);\n    background: var(--button-background, #154bf4);\n    border-radius: var(--button-border-radius, 5px);\n    padding: var(--button-padding, 8px 20px);\n    width: 100%;\n    justify-content: center;\n  } */\n\n  button#close {\n    display: block;\n    position: absolute;\n    right: 1rem;\n    top: 1rem;\n    svg {\n      color: var(--color-accent, #154bf4);\n      width: 1.5rem;\n      height: 1.5rem;\n    }\n  }\n}\n\n@media (min-width: 900px) {\n  .call-to-action {\n    display: none;\n  }\n  #open,\n  #mobile-nav {\n    display: none;\n  }\n  nav {\n    a.link {\n      display: inline-block;\n      border-bottom: 2px solid transparent;\n      transition: border-color 0.1s;\n\n      &:hover {\n        border-color: var(--color-accent);\n      }\n    }\n  }\n}\n","html":"<header>\n  <div class=\"section-container\">\n    <div class=\"logos\">\n      <a href=\"https://primo.so\" class=\"is-primo\">\n        <svg\n          viewBox=\"0 0 871 198\"\n          fill=\"none\"\n          xmlns=\"http://www.w3.org/2000/svg\">\n          <g clip-path=\"url(#clip0_250_527)\">\n            <path\n              d=\"M814.062 159.924C782.686 159.924 757.171 134.408 757.171 103.032C757.171 71.6567 782.686 46.1408 814.062 46.1408C845.438 46.1408 870.954 71.6567 870.954 103.032C870.954 134.408 845.438 159.924 814.062 159.924ZM814.062 70.3186C796.021 70.3186 781.395 84.9914 781.395 102.986C781.395 120.981 796.067 135.654 814.062 135.654C832.057 135.654 846.73 120.981 846.73 102.986C846.73 84.9914 832.057 70.3186 814.062 70.3186V70.3186Z\"\n              fill=\"#FDFDFD\" />\n            <path\n              d=\"M700.925 46.0947C689.897 46.0947 679.931 50.5242 672.641 57.676C665.35 50.5242 655.384 46.0947 644.356 46.0947C622.07 46.0947 603.983 64.228 603.983 86.4679V147.789C603.983 154.479 609.382 159.878 616.072 159.878C622.763 159.878 628.161 154.479 628.161 147.789V86.4679C628.161 77.5627 635.405 70.3186 644.31 70.3186C653.215 70.3186 660.46 77.5627 660.46 86.4679V147.789C660.46 154.479 665.858 159.878 672.548 159.878C679.239 159.878 684.637 154.479 684.637 147.789V86.4679C684.637 77.5627 691.881 70.3186 700.787 70.3186C709.692 70.3186 716.936 77.5627 716.936 86.4679V147.789C716.936 154.479 722.334 159.878 729.025 159.878C735.715 159.878 741.114 154.479 741.114 147.789V86.4679C741.114 64.1819 722.98 46.0947 700.74 46.0947H700.925Z\"\n              fill=\"#FDFDFD\" />\n            <path\n              d=\"M571.039 159.786C564.348 159.786 558.95 154.387 558.95 147.697V58.0913C558.95 51.4009 564.348 46.0024 571.039 46.0024C577.729 46.0024 583.128 51.4009 583.128 58.0913V147.697C583.128 154.387 577.729 159.786 571.039 159.786Z\"\n              fill=\"#FDFDFD\" />\n            <path\n              d=\"M571.039 26.4848C578.352 26.4848 584.281 20.556 584.281 13.2424C584.281 5.92883 578.352 0 571.039 0C563.725 0 557.796 5.92883 557.796 13.2424C557.796 20.556 563.725 26.4848 571.039 26.4848Z\"\n              fill=\"#FDFDFD\" />\n            <path\n              d=\"M482.356 159.785C475.666 159.785 470.267 154.387 470.267 147.697V102.894C470.267 71.5181 495.783 46.0023 527.159 46.0023C533.849 46.0023 539.248 51.4007 539.248 58.0911C539.248 64.7816 533.849 70.18 527.159 70.18C509.118 70.18 494.491 84.8528 494.491 102.848V147.65C494.491 154.341 489.093 159.739 482.402 159.739L482.356 159.785Z\"\n              fill=\"#FDFDFD\" />\n            <path\n              d=\"M349.701 197.99C343.011 197.99 337.612 192.592 337.612 185.901V102.894C337.612 71.5182 363.128 46.0024 394.504 46.0024C425.88 46.0024 451.396 71.5182 451.396 102.894C451.396 134.27 425.88 159.786 394.504 159.786C387.814 159.786 382.415 154.387 382.415 147.697C382.415 141.006 387.814 135.608 394.504 135.608C412.545 135.608 427.172 120.935 427.172 102.94C427.172 84.9452 412.499 70.2724 394.504 70.2724C376.509 70.2724 361.836 84.9452 361.836 102.94V185.947C361.836 192.638 356.438 198.036 349.747 198.036L349.701 197.99Z\"\n              fill=\"#FDFDFD\" />\n            <path\n              d=\"M222.814 159.371C219.723 159.371 216.631 158.171 214.232 155.818C209.526 151.065 209.526 143.406 214.232 138.699L249.668 103.263L214.232 67.8271C209.526 63.0746 209.526 55.4153 214.232 50.7089C218.984 45.9564 226.644 45.9564 231.35 50.7089L275.369 94.7272C280.075 99.4797 280.075 107.139 275.369 111.845L231.35 155.864C228.997 158.217 225.906 159.417 222.768 159.417L222.814 159.371Z\"\n              fill=\"#35D994\" />\n            <path\n              d=\"M94.7272 197.99C91.6358 197.99 88.5443 196.791 86.145 194.437L3.55296 111.799C-1.1534 107.047 -1.1534 99.3874 3.55296 94.681L47.5713 50.6627C52.3238 45.9102 59.9832 45.9102 64.6895 50.6627C69.3959 55.4152 69.3959 63.0746 64.6895 67.7809L29.2073 103.217L103.263 177.273C107.97 182.026 107.97 189.685 103.263 194.391C100.91 196.744 97.8186 197.944 94.6811 197.944L94.7272 197.99Z\"\n              fill=\"url(#paint0_linear_250_527)\" />\n            <path\n              d=\"M94.7273 197.99C88.0369 197.99 82.6384 192.592 82.6384 185.901V102.894C82.6384 71.5181 108.154 46.0023 139.53 46.0023C170.906 46.0023 196.422 71.5181 196.422 102.894C196.422 134.27 170.906 159.785 139.53 159.785C132.84 159.785 127.441 154.387 127.441 147.697C127.441 141.006 132.84 135.608 139.53 135.608C157.571 135.608 172.198 120.935 172.198 102.94C172.198 84.9451 157.525 70.2723 139.53 70.2723C121.535 70.2723 106.862 84.9451 106.862 102.94V185.947C106.862 192.638 101.464 198.036 94.7735 198.036L94.7273 197.99Z\"\n              fill=\"#35D994\" />\n          </g>\n          <defs>\n            <linearGradient\n              id=\"paint0_linear_250_527\"\n              x1=\"25.5621\"\n              y1=\"72.6719\"\n              x2=\"125.319\"\n              y2=\"172.428\"\n              gradientUnits=\"userSpaceOnUse\">\n              <stop stop-color=\"#35D994\" />\n              <stop offset=\"0.16\" stop-color=\"#32D28E\" />\n              <stop offset=\"0.38\" stop-color=\"#29BF80\" />\n              <stop offset=\"0.64\" stop-color=\"#1CA169\" />\n              <stop offset=\"0.93\" stop-color=\"#097649\" />\n              <stop offset=\"0.95\" stop-color=\"#097548\" />\n            </linearGradient>\n            <clipPath id=\"clip0_250_527\">\n              <rect width=\"871\" height=\"197.99\" fill=\"white\" />\n            </clipPath>\n          </defs>\n        </svg>\n      </a>\n      <Icon icon=\"ph:caret-right-bold\" size=\"2rem\" />\n      <a href={secondary_logo.url} class=\"link\">\n        <span>{secondary_logo.label}</span>\n      </a>\n    </div>\n    <nav>\n      {#each nav as { link }}\n        <a\n          href={link.url}\n          class=\"link\"\n          class:active={window.location.pathname === link.url}>{link.label}</a>\n      {/each}\n    </nav>\n    <div class=\"call-to-action\">\n      <button id=\"open\" on:click={toggleMobileNav}>\n        <svg\n          width=\"20\"\n          height=\"20\"\n          viewBox=\"0 0 20 20\"\n          fill=\"none\"\n          xmlns=\"http://www.w3.org/2000/svg\">\n          <path\n            d=\"M19.4643 17.0213H0.535714C0.239866 17.0213 0 17.3071 0 17.6596V19.3617C0 19.7142 0.239866 20 0.535714 20H19.4643C19.7601 20 20 19.7142 20 19.3617V17.6596C20 17.3071 19.7601 17.0213 19.4643 17.0213ZM19.4643 8.51064H0.535714C0.239866 8.51064 0 8.79644 0 9.14894V10.8511C0 11.2036 0.239866 11.4894 0.535714 11.4894H19.4643C19.7601 11.4894 20 11.2036 20 10.8511V9.14894C20 8.79644 19.7601 8.51064 19.4643 8.51064ZM19.4643 0H0.535714C0.239866 0 0 0.285797 0 0.638296V2.34042C0 2.69292 0.239866 2.97872 0.535714 2.97872H19.4643C19.7601 2.97872 20 2.69292 20 2.34042V0.638296C20 0.285797 19.7601 0 19.4643 0Z\"\n            fill=\"currentColor\" />\n        </svg>\n      </button>\n    </div>\n    {#if mobileNavOpen}\n      <nav id=\"mobile-nav\" transition:fade={{ duration: 200 }}>\n        {#each nav as { link }}\n          <a href={link.url} class=\"link\">{link.label}</a>\n        {/each}\n        <button\n          on:click={toggleMobileNav}\n          id=\"close\"\n          aria-label=\"Close Navigation\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 20 20\"\n            fill=\"currentColor\">\n            <path\n              fill=\"currentColor\"\n              fill-rule=\"evenodd\"\n              d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\"\n              clip-rule=\"evenodd\" />\n          </svg>\n        </button>\n      </nav>\n    {/if}\n  </div>\n</header>\n"},"fields":[{"id":"vwfvl","key":"secondary_logo","type":"link","label":"Logo","fields":[{"id":"ueviy","key":"title","type":"text","label":"Title","value":"Cillum enim voluptate","fields":[],"default":"","options":{},"is_static":false},{"id":"whzhb","key":"image","type":"image","label":"Image","value":{"alt":"","src":"https://picsum.photos/600/400?blur=10","url":"https://picsum.photos/600/400?blur=10","size":null},"fields":[],"default":"","options":{},"is_static":false}],"default":"","options":{},"is_static":true},{"id":"owstw","key":"nav","type":"repeater","label":"Navigation","fields":[{"id":"gkvkp","key":"link","type":"link","label":"Link","value":{"url":"/","label":"laboris"},"fields":[],"default":"","options":{},"is_static":false}],"default":"","options":{},"is_static":true}],"content":{"en":{"nav":[{"link":{"url":"/","label":"About"}},{"link":{"url":"/","label":"Getting Started"}},{"link":{"url":"/","label":"Development"}},{"link":{"url":"/publishing","label":"Publishing"}}],"secondary_logo":{"url":"/","label":"Docs"}}},"site":"cd39839c-d242-4652-b902-768f8e669563"},{"id":"bcfd9384-84ed-460c-b0fb-369cb12fd591","name":"Code Snippet","code":{"js":"import Icon from \"@iconify/svelte/dist/Icon.svelte\";\nimport axios from \"axios\";\nimport showdown from \"showdown\";\n// import showdownHighlight from \"showdown-highlight\";\n\nimport { tick } from \"svelte\";\n\nconst converter = new showdown.Converter({\n  // extensions: [showdownHighlight()],\n});\n\n\n","css":"section {\n  display: grid;\n  place-items: flex-start;\n  gap: 4rem;\n  position: relative;\n\n  nav {\n    display: none;\n    place-content: flex-start;\n    position: sticky;\n    top: 1rem;\n\n    a {\n      display: flex;\n      align-items: center;\n      padding: 0.25rem 0;\n      padding-right: 3rem;\n      border-right: 1px solid var(--border-color);\n      transition: 0.1s border-color;\n      offset: 30rem;\n\n      &.active {\n        color: white;\n      }\n\n      &.passed {\n        border-color: var(--color-accent);\n      }\n\n      :global(svg) {\n        color: var(--color-accent);\n        position: absolute;\n        right: 100%;\n      }\n    }\n\n    .H1 {\n      font-size: 1rem;\n    }\n\n    .H2 {\n      font-size: 0.825rem;\n    }\n\n    .H3 {\n      font-size: 0.75rem;\n      padding-left: 0.5rem;\n    }\n  }\n\n  main {\n    max-width: 600px;\n\n    .button.pr {\n      display: flex;\n      align-items: center;\n      gap: 0.5rem;\n      background: #222;\n      color: #ddd;\n      font-size: 0.875rem;\n      position: fixed;\n      right: 1rem;\n      bottom: 1rem;\n    }\n\n    .video {\n      padding-top: 63%;\n      height: 0;\n      position: relative;\n      margin-bottom: 3rem;\n\n      iframe {\n        border: 2px solid #393939;\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        inset: 0;\n      }\n    }\n\n    .content {\n      padding: 0;\n      margin: initial;\n\n      :global(a[href$=\"#gh-light-mode-only\"]) {\n        display: none;\n      }\n\n      :global(img[alt=\"Primo\"]) {\n        width: 10rem;\n      }\n\n      :global(h3) {\n        margin-top: 1rem;\n      }\n\n      :global(img) {\n        width: 100%;\n        margin: 1rem 0;\n      }\n\n      :global(hr) {\n        margin: 4rem 0;\n        border-color: var(--border-color);\n      }\n\n      :global(p) {\n        font-family: \"Inter\", sans-serif;\n      }\n    }\n  }\n}\n\n@media (min-width: 800px) {\n  section {\n    grid-template-columns: minmax(auto, 15rem) auto;\n\n    nav {\n      display: grid;\n    }\n  }\n}\n","html":"<section class=\"section-container\">\n  <div class=\"content\" data-key=\"content\">\n    {@html content.html}\n  </div>\n</section>\n\n<link\n  rel=\"stylesheet\"\n  href=\"https://unpkg.com/highlightjs@9.16.2/styles/solarized-dark.css\" />\n"},"fields":[{"id":"ruwee","key":"content","type":"markdown","label":"Content","value":{"html":"<h1 id=\"somedocumentation\">Some Documentation</h1>\n<p>HTML:</p>\n<pre><code class=\"hljs html language-html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">h1</span>&gt;</span>Some text<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">h1</span>&gt;</span>\n</code></pre>\n<p>CSS: </p>\n<pre><code class=\"hljs css language-css\"><span class=\"hljs-selector-tag\">h1</span> {\n  <span class=\"hljs-attribute\">color</span>: red;\n}\n</code></pre>\n<p>JS: </p>\n<pre><code class=\"hljs\"><span class=\"hljs-keyword\">const</span> foo = <span class=\"hljs-string\">&#x27;bar&#x27;</span>\n}\n</code></pre>","markdown":"# Some Documentation\n \nHTML:\n```html\n<h1>Some text</h1>\n```\n\nCSS: \n```css\nh1 {\n  color: red;\n}\n```\n\nJS: \n```\nconst foo = 'bar'\n}\n```"},"fields":[],"options":{"markdown":"# Introduction\nprimo is a free and open-source CMS designed for smaller sites/webapps like landing pages, blogs, brochure sites, etc. It's a lighter approach to content management which doesn't handle hosting the site, but instead uploads a static site to a connected web host (Vercel, Netlify) or Github.\n\n## Project Status\nPrimo is in Public Beta as of October 2022. It's free of major bugs and stable enough for professional as well as personal projects, though there may still be some light breaking changes in the future.\n\n## Comparison\nCompared to other monolithic CMSs like WordPress, Drupal, and Joomla, primo is a much lighter, more integrated alternative. New sites can be created instantly, hundreds of sites can be managed from the same server, and sites are modified one component at a time from an embedded code editor (as opposed to setting up a framework and local development environment).\n\n## How it works\nPrimo is a [SvelteKit](https://kit.svelte.dev) application which can be deployed as a free Vercel/Netlify/etc. project or installed as a Desktop application (running Primo in [Electron](https://electronjs.org)). Primo websites are saved in a simple JSON file which contains its pages, components, and internationalized content, and they're published as HTML, CSS, and optional JS files to a static host like Vercel or Netlify, or a Github repository. \n\n### Site Structure\n```\n{\n   pages: [{\n      id: 'index'\n      sections: [\n        {\n          id: 'iejd93',\n          type: 'component',\n          componentID: 'ep90d'\n        },\n        {\n          id: 'kaoei4',\n          type: 'content'\n        }\n      ]\n      pages: [...]\n   }],\n   components: [{\n     id: 'ep90d',\n     code: {\n       html: '<h2>{title}</h2>'\n       css: '',\n       js: ''\n     },\n     fields: [{\n       id: 'title'\n       type: 'text'\n     }]\n   }],\n   content: {\n      en: {\n        index: {\n          iejd93: {\n            title: 'hello'\n          },\n          kaoei4: '<h2>and welcome</h2>'\n        }\n      },\n      es: {\n        index: {\n          iejd93: {\n            title: 'hola'\n          },\n          kaoei4: '<h2>y bienvenidos</h2>'\n        }\n      }\n   }\n}\n```\n\nprimo includes an embedded development environment that enables devs to modify components instantly in a robust component editor. It also includes professional, pre-built components/themes which adapt to the theme of the site (set in the site's CSS).\n\n## Powered by Svelte\nprimo's power comes from Svelte, the underlying framework used to build primo components and compile websites. Although called a framework for the sake of simplicity, Svelte is actually a language that extends standard HTML, CSS, and JS and compiles into standard HTML, CSS, and little to no vanilla JavaScript (depending on how much is used in the component). As far as frontend technologies go, none comes close to Svelte in terms of approachability, simplicity, and capability, making it the ideal engine for primo (as well as the ideal engine to build primo itself)."},"is_static":false}],"content":{"en":{"content":{"html":"<h1 id=\"somedocumentation\">Some Documentation</h1>\n<p>HTML:</p>\n<pre><code class=\"hljs html language-html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">h1</span>&gt;</span>Some text<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">h1</span>&gt;</span>\n</code></pre>\n<p>CSS: </p>\n<pre><code class=\"hljs css language-css\"><span class=\"hljs-selector-tag\">h1</span> {\n  <span class=\"hljs-attribute\">color</span>: red;\n}\n</code></pre>\n<p>JS: </p>\n<pre><code class=\"hljs\"><span class=\"hljs-keyword\">const</span> foo = <span class=\"hljs-string\">&#x27;bar&#x27;</span>\n}\n</code></pre>","markdown":"# Some Documentation\n \nHTML:\n```html\n<h1>Some text</h1>\n```\n\nCSS: \n```css\nh1 {\n  color: red;\n}\n```\n\nJS: \n```\nconst foo = 'bar'\n}\n```"}}},"site":"cd39839c-d242-4652-b902-768f8e669563"},{"id":"9aaca21c-4e7a-41d5-a03b-98dc08754b0f","name":"Documentation","code":{"js":"import Icon from \"@iconify/svelte/dist/Icon.svelte\";\nimport axios from \"axios\";\nimport showdown from \"showdown\";\n// import showdownHighlight from \"showdown-highlight\";\nimport { tick } from \"svelte\";\nimport { Banner } from 'flowbite-svelte';\n\nconst converter = new showdown.Converter({\n  // extensions: [showdownHighlight()],\n});\n\nlet content_node;\n\nlet docs;\n\nasync function get_docs() {\n  if (!github_markdown_file) {\n    docs = content.html;\n  } else {\n    const { data } = await axios.get(github_markdown_file);\n    const converted = converter.makeHtml(data);\n    // console.log({data, converted})\n    docs = converted;\n  }\n}\n$: github_markdown_file, get_docs();\n\nlet header_links = [];\nasync function createHeaderLinks(content_node) {\n  await tick();\n  if (!content_node) return;\n  header_links = Array.from(content_node.children)\n    .filter((n) => [\"H1\", \"H2\", \"H3\"].includes(n.tagName))\n    .map((n, i) => {\n      return {\n        level: n.tagName,\n        text: n.textContent,\n        id: n.id,\n        node: n,\n        top: n.offsetTop,\n      };\n    });\n}\n$: docs && createHeaderLinks(content_node);\n\nlet activeLink = null;\nlet scrollY;\n// $: console.log({scrollY})\n$: header_links.length > 0 && setActiveLink(scrollY);\nfunction setActiveLink(scrollY) {\n  header_links = header_links\n    .map((link, i) => {\n      const element = link.node;\n      const top = element ? element.offsetTop : null;\n      const passed = scrollY >= top;\n      return {\n        ...link,\n        top,\n        passed,\n      };\n    })\n    .map((link, i) => {\n      const nextLink = header_links[i + 1];\n      const active = nextLink\n        ? link.top < scrollY && scrollY < nextLink.top\n        : false;\n      return {\n        ...link,\n        active,\n      };\n    });\n}\n","css":"section {\n  display: grid;\n  place-items: flex-start;\n  gap: 4rem;\n  position: relative;\n\n  nav {\n    display: none;\n    place-content: flex-start;\n    position: sticky;\n    top: 1rem;\n\n    a {\n      display: flex;\n      align-items: center;\n      padding: 0.25rem 0;\n      padding-right: 3rem;\n      border-right: 1px solid var(--border-color);\n      transition: 0.1s border-color;\n      offset: 30rem;\n\n      &.active {\n        color: white;\n      }\n\n      &.passed {\n        border-color: var(--color-accent);\n      }\n\n      :global(svg) {\n        color: var(--color-accent);\n        position: absolute;\n        right: 100%;\n      }\n    }\n\n    .H1 {\n      font-size: 1rem;\n    }\n\n    .H2 {\n      font-size: 0.825rem;\n    }\n\n    .H3 {\n      font-size: 0.75rem;\n      padding-left: 0.5rem;\n    }\n  }\n\n  main {\n    max-width: 600px;\n\n    .button.pr {\n      display: flex;\n      align-items: center;\n      gap: 0.5rem;\n      background: #222;\n      color: #ddd;\n      font-size: 0.875rem;\n      position: fixed;\n      right: 1rem;\n      bottom: 1rem;\n    }\n\n    .video {\n      padding-top: 63%;\n      height: 0;\n      position: relative;\n      margin-bottom: 3rem;\n\n      iframe {\n        border: 2px solid #393939;\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        inset: 0;\n      }\n    }\n\n    .content {\n      padding: 0;\n      margin: initial;\n\n      :global(a[href$=\"#gh-light-mode-only\"]) {\n        display: none;\n      }\n\n      :global(img[alt=\"Primo\"]) {\n        width: 10rem;\n      }\n\n      :global(h3) {\n        margin-top: 1rem;\n      }\n\n      :global(img) {\n        width: 100%;\n        margin: 1rem 0;\n      }\n\n      :global(hr) {\n        margin: 4rem 0;\n        border-color: var(--border-color);\n      }\n\n      :global(p) {\n        font-family: \"Inter\", sans-serif;\n      }\n    }\n  }\n}\n\n@media (min-width: 800px) {\n  section {\n    grid-template-columns: minmax(auto, 15rem) auto;\n\n    nav {\n      display: grid;\n    }\n  }\n}\n","html":"<Banner />\n\n<section class=\"section-container\">\n  <nav>\n    {#each header_links as link}\n      <a href=\"#{link.id}\" class:active={link.active} class:passed={link.passed} class={link.level}>\n        <span>{link.text}</span>\n        {#if link.active}\n          <Icon icon=\"bx:chevron-right\" />\n        {/if}\n      </a>\n    {/each}\n  </nav>\n  <main>\n    {#if github_markdown_file}\n      <a\n        class=\"button pr\"\n        href=\"https://github.com/primocms/docs\"\n        target=\"_blank\">\n        <Icon icon=\"bxs:edit\" />\n        <span>suggest edits</span>\n      </a>\n    {/if}\n    {#if video_id}\n      <div class=\"video\">\n        <iframe\n          src=\"https://www.youtube-nocookie.com/embed/{video_id}\"\n          title=\"YouTube video player\"\n          frameborder=\"0\"\n          allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n          allowfullscreen />\n      </div>\n    {/if}\n    <div class=\"content\" bind:this={content_node} data-key=\"content\">\n      {#if content.html}\n        {@html content.html}\n      {:else if docs}\n        {@html docs}\n      {:else}\n        <Icon icon=\"line-md:loading-twotone-loop\" />\n      {/if}\n    </div>\n  </main>\n</section>\n\n<link\n  rel=\"stylesheet\"\n  href=\"https://unpkg.com/highlightjs@9.16.2/styles/solarized-dark.css\" />\n\n<svelte:window bind:scrollY />\n"},"fields":[{"id":"wuqqk","key":"video_id","type":"text","label":"Video ID","fields":[],"options":{},"is_static":false},{"id":"ruwee","key":"content","type":"markdown","label":"Content","fields":[],"options":{"markdown":"# Introduction\nprimo is a free and open-source CMS designed for smaller sites/webapps like landing pages, blogs, brochure sites, etc. It's a lighter approach to content management which doesn't handle hosting the site, but instead uploads a static site to a connected web host (Vercel, Netlify) or Github.\n\n## Project Status\nPrimo is in Public Beta as of October 2022. It's free of major bugs and stable enough for professional as well as personal projects, though there may still be some light breaking changes in the future.\n\n## Comparison\nCompared to other monolithic CMSs like WordPress, Drupal, and Joomla, primo is a much lighter, more integrated alternative. New sites can be created instantly, hundreds of sites can be managed from the same server, and sites are modified one component at a time from an embedded code editor (as opposed to setting up a framework and local development environment).\n\n## How it works\nPrimo is a [SvelteKit](https://kit.svelte.dev) application which can be deployed as a free Vercel/Netlify/etc. project or installed as a Desktop application (running Primo in [Electron](https://electronjs.org)). Primo websites are saved in a simple JSON file which contains its pages, components, and internationalized content, and they're published as HTML, CSS, and optional JS files to a static host like Vercel or Netlify, or a Github repository. \n\n### Site Structure\n```\n{\n   pages: [{\n      id: 'index'\n      sections: [\n        {\n          id: 'iejd93',\n          type: 'component',\n          componentID: 'ep90d'\n        },\n        {\n          id: 'kaoei4',\n          type: 'content'\n        }\n      ]\n      pages: [...]\n   }],\n   components: [{\n     id: 'ep90d',\n     code: {\n       html: '<h2>{title}</h2>'\n       css: '',\n       js: ''\n     },\n     fields: [{\n       id: 'title'\n       type: 'text'\n     }]\n   }],\n   content: {\n      en: {\n        index: {\n          iejd93: {\n            title: 'hello'\n          },\n          kaoei4: '<h2>and welcome</h2>'\n        }\n      },\n      es: {\n        index: {\n          iejd93: {\n            title: 'hola'\n          },\n          kaoei4: '<h2>y bienvenidos</h2>'\n        }\n      }\n   }\n}\n```\n\nprimo includes an embedded development environment that enables devs to modify components instantly in a robust component editor. It also includes professional, pre-built components/themes which adapt to the theme of the site (set in the site's CSS).\n\n## Powered by Svelte\nprimo's power comes from Svelte, the underlying framework used to build primo components and compile websites. Although called a framework for the sake of simplicity, Svelte is actually a language that extends standard HTML, CSS, and JS and compiles into standard HTML, CSS, and little to no vanilla JavaScript (depending on how much is used in the component). As far as frontend technologies go, none comes close to Svelte in terms of approachability, simplicity, and capability, making it the ideal engine for primo (as well as the ideal engine to build primo itself)."},"is_static":false},{"id":"uhpao","key":"github_markdown_file","type":"text","label":"Github Markdown File","fields":[],"options":{},"is_static":false}],"content":{"en":{"content":{"html":"<h1 id=\"somedocumentation\">Some Documentation</h1>\n<p>HTML:</p>\n<pre><code class=\"hljs\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">h1</span>&gt;</span>Some text<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">h1</span>&gt;</span>\n</code></pre>\n<p>CSS: </p>\n<pre><code class=\"hljs\"><span class=\"hljs-selector-tag\">h1</span> {\n  <span class=\"hljs-attribute\">color</span>: red;\n}\n</code></pre>","markdown":"# Some Documentation\n\nHTML:\n```\n<h1>Some text</h1>\n```\n\nCSS: \n```\nh1 {\n  color: red;\n}\n```"},"video_id":"","github_markdown_file":""}},"site":"cd39839c-d242-4652-b902-768f8e669563"},{"id":"a7332832-1c91-4fe4-9308-da5710b57686","name":"New Header","code":{"js":"import axios from \"axios\";\nimport Icon from \"@iconify/svelte/dist/Icon.svelte\";\nimport { fade } from \"svelte/transition\";\nimport { get, set } from \"idb-keyval\";\nimport Fuse from \"fuse.js\";\n\nlet mobileNavOpen = false;\nlet showing_dropdown = false;\n\nfunction toggleMobileNav() {\n  mobileNavOpen = !mobileNavOpen;\n}\n\nclass Site {\n  constructor(url = \"\") {\n    this.url = url;\n    this.pages = this.createActions(\"pages\");\n    this.symbols = this.createActions(\"symbols\");\n  }\n  createActions(property) {\n    const url = this.url;\n    return {\n      match: async (args) => {\n        const [prop] = Object.entries(args);\n        const [key, value] = prop;\n        const { data } = await axios.get(`${url}/primo.json`);\n        const [item] = data[property].filter((item) => item[key] === value);\n        return item;\n      },\n      filter: async (fn) => {\n        const { data } = await axios.get(`${url}/primo.json`);\n        const items = data[property].filter(fn);\n        return items;\n      },\n    };\n  }\n  async on_load(fn) {\n    const { data } = await axios.get(`${this.url}/primo.json`);\n    fn(data);\n  }\n}\n\n// function Actions(property, url) {\n//   return {\n//     match: async (args) => {\n//       const [prop] = Object.entries(args);\n//       const [key, value] = prop;\n//       const { data } = await axios.get(`${url}/primo.json`);\n//       const [item] = data[property].filter((item) => item[key] === value);\n//       return item;\n//     },\n//     filter: async (fn) => {\n//       const { data } = await axios.get(`${url}/primo.json`);\n//       const items = data[property].filter(fn);\n//       return items;\n//     },\n//   };\n// }\n\n// function Site(url = \"\") {\n//   this.url = url;\n//   this.pages = Actions(\"pages\", url);\n//   this.symbols = Actions(\"symbols\", url);\n// }\n\n// Site.prototype.on_load = async function (fn) {\n//   console.log(this);\n//   const { data } = await axios.get(`${this.url}/primo.json`);\n//   fn(data);\n// };\n\nconst main_site = new Site(\"https://primocms.org\");\n\nlet loaded = false;\nmain_site.on_load(() => {\n  loaded = true;\n});\n\nfunction parent_href(link) {\n  return link.url.startsWith(\"/\")\n    ? `https://primocms.org${link.url}`\n    : link.url;\n}\n\nlet search_text = ''\nlet sections = [];\nlet results = []\n$: ((text) => {\n    const fuse = new Fuse(sections, {\n    includeScore: true,\n    keys: [\"content\", \"page.name\"]\n  });\n\n  results = fuse.search(text).sort((a,b) => a.refIndex - b.refIndex).map(r => r.item)\n  console.log(results)\n})(search_text)\n\naxios.get(\"https://docs.primocms.org/primo.json\").then(({ data }) => {\n  sections = data.sections.map((s) => ({\n    id: s.id,\n    content: s.content.en?.content?.html,\n    page: {\n      ...data.pages.find(p => p.id === s.page),\n      parent: data.pages.find(p => p.id === data.pages.find(p => p.id === s.page).parent)\n    }\n  })).filter(s => s.content);\n});\n","css":"header {\n  background: var(--background, white);\n  border-bottom: 1px solid var(--border-color, #e5e5e7);\n  padding-top: 0.75rem;\n}\n\n.section-container {\n  padding-top: 1rem;\n  padding-bottom: 1rem;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.parent-nav {\n  font-size: 0.75rem;\n  padding-block: 0.5rem;\n  /* border-bottom: 1px solid #222; */\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  opacity: 0;\n  transition: 0.2s opacity;\n  /* height: 35px; */\n\n  .logo {\n    display: flex;\n    align-items: baseline;\n\n    :global(svg) {\n      width: 5rem;\n    }\n  }\n\n  nav {\n    gap: 1.5rem;\n\n    a:hover {\n      color: var(--color-accent);\n    }\n  }\n\n  &.loaded {\n    opacity: 1;\n  }\n}\n\n.logos {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n\n  a.link {\n    font-size: 1.25rem;\n    font-weight: 600;\n    color: white;\n    border-bottom: 2px solid transparent;\n    transition: border-color 0.1s;\n\n    &:hover {\n      border-color: var(--color-accent);\n      color: white;\n    }\n  }\n}\n\n.navigation {\n  display: flex;\n  gap: 1.5rem;\n}\n\n.search {\n  input {\n    border-radius: 1rem;\n    padding: 0.125rem 1rem;\n    background: #222;\n  }\n\n  ul {\n    position: absolute;\n    z-index: 9;\n  }\n\n  li {\n    padding: 0.75rem 1rem;\n    background: #222;\n\n    a {\n      transition: 0.1;\n\n      &:hover {\n        text-decoration: underline white;\n      }\n    }\n  }\n}\n\nnav {\n  display: flex;\n  align-items: center;\n  gap: 2rem;\n\n  .dropdown {\n    position: relative;\n\n    .title {\n      display: flex;\n      gap: 0.25rem;\n      align-items: center;\n    }\n\n    ul {\n      position: absolute;\n      right: 0;\n      gap: 0.25rem;\n      background: #222;\n      padding: 0.75rem;\n      text-wrap: nowrap;\n      display: none;\n      text-decoration: underline;\n      white-space: nowrap;\n      z-index: 9;\n    }\n\n    &:hover ul,\n    &.active ul {\n      display: grid;\n    }\n  }\n\n  a.link.active {\n    border-bottom: 2px solid var(--color-accent);\n    transition: border-color 0.1s;\n    font-size: 1rem;\n  }\n\n  a.link {\n    display: none;\n\n    &:hover {\n      color: white;\n      transition: 0.3s;\n    }\n  }\n\n  button#close {\n    display: none;\n  }\n}\n\n.call-to-action {\n  display: flex;\n  align-items: center;\n  gap: 1.5rem;\n\n  #theme {\n    svg {\n      width: 1.25rem;\n      height: 1.25rem;\n    }\n  }\n\n  :global(.locale-selector select) {\n    background: transparent;\n  }\n}\n\nnav#mobile-nav {\n  position: absolute;\n  flex-direction: column;\n  text-align: center;\n  background: var(--background);\n  box-shadow: var(--box-shadow);\n  border-radius: var(--border-radius);\n  left: 0.5rem;\n  top: 0.5rem;\n  right: 0.5rem;\n  padding: 2rem;\n  z-index: 9;\n\n  a.link {\n    display: block;\n  }\n\n  /*   Button */\n  /*   a:last-of-type {\n    color: var(--button-color, white);\n    background: var(--button-background, #154bf4);\n    border-radius: var(--button-border-radius, 5px);\n    padding: var(--button-padding, 8px 20px);\n    width: 100%;\n    justify-content: center;\n  } */\n\n  button#close {\n    display: block;\n    position: absolute;\n    right: 1rem;\n    top: 1rem;\n    svg {\n      color: var(--color-accent, #154bf4);\n      width: 1.5rem;\n      height: 1.5rem;\n    }\n  }\n}\n\n@media (min-width: 900px) {\n  .call-to-action {\n    display: none;\n  }\n  #open,\n  #mobile-nav {\n    display: none;\n  }\n  nav {\n    a.link {\n      display: inline-block;\n      border-bottom: 2px solid transparent;\n      transition: border-color 0.1s;\n\n      &:hover {\n        border-color: var(--color-accent);\n      }\n    }\n  }\n}\n","html":"<header>\n  <div class:loaded class=\"parent-nav section-container\">\n    {#await main_site.symbols.match({ name: \"Site Navigation\" }) then header}\n      {@const { logo } = header.content.en}\n      <a href=\"https://primocms.org\" class=\"logo\" aria-label=\"Primo main site\">\n        {@html logo.svg}\n      </a>\n    {/await}\n    <nav>\n      {#await main_site.symbols.match({ name: \"Footer\" }) then footer}\n        {@const { social } = footer.content.en}\n        {#each social as { icon, link }}\n          <a href={parent_href(link)}>\n            <Icon {icon} />\n          </a>\n        {/each}\n      {/await}\n    </nav>\n  </div>\n  <div class=\"section-container\">\n    <div class=\"logos\">\n      <a href=\"/\" class=\"link\">Primo Docs</a>\n    </div>\n    <div class=\"navigation\">\n      <div class=\"search\">\n        <input bind:value={search_text} type=\"text\" placeholder=\"🔎 search\" />\n        <ul>\n          {#each results as result}\n            <li>\n              <a href=\"/{result.page.parent ? `${result.page.parent.url}/${result.page.url}` : result.page.url}\">{result.page.name}</a>\n            </li>\n          {/each}\n        </ul>\n      </div>\n      <nav>\n        {#each nav as { link }}\n          <a\n            href={link.url}\n            class=\"link\"\n            class:active={window.location.pathname === link.url}\n            >{link.label}</a>\n        {/each}\n        <div class=\"dropdown\" class:active={showing_dropdown}>\n          <button\n            class=\"title\"\n            on:click={() => (showing_dropdown = !showing_dropdown)}>\n            <span>Guides</span>\n            <Icon icon=\"tabler:chevron-down\" />\n          </button>\n          {#await new Site().pages.filter((page) => page.parent === \"092114f6-8259-4f21-8c08-3e5dfcfe2e47\") then guides}\n            <ul>\n              {#each guides as guide}\n                <li>\n                  <a href=\"/guides/{guide.url}\">{guide.name}</a>\n                </li>\n              {/each}\n            </ul>\n          {/await}\n        </div>\n      </nav>\n      <div class=\"call-to-action\">\n        <button id=\"open\" on:click={toggleMobileNav}>\n          <Icon height=\"30\" icon=\"material-symbols:menu\" />\n        </button>\n      </div>\n    </div>\n    {#if mobileNavOpen}\n      <nav id=\"mobile-nav\" transition:fade={{ duration: 200 }}>\n        {#each nav as { link }}\n          <a href={link.url} class=\"link\">{link.label}</a>\n        {/each}\n        <button\n          on:click={toggleMobileNav}\n          id=\"close\"\n          aria-label=\"Close Navigation\">\n          <Icon height=\"30\" icon=\"material-symbols:close\" />\n        </button>\n      </nav>\n    {/if}\n  </div>\n</header>\n"},"fields":[{"id":"vwfvl","key":"secondary_logo","type":"link","label":"Logo","fields":[{"id":"ueviy","key":"title","type":"text","label":"Title","value":"Cillum enim voluptate","fields":[],"options":{},"is_static":false},{"id":"whzhb","key":"image","type":"image","label":"Image","value":{"alt":"","src":"https://picsum.photos/600/400?blur=10","url":"https://picsum.photos/600/400?blur=10","size":null},"fields":[],"options":{},"is_static":false}],"options":{},"is_static":true},{"id":"owstw","key":"nav","type":"repeater","label":"Navigation","fields":[{"id":"gkvkp","key":"link","type":"link","label":"Link","value":{"url":"/","label":"laboris"},"fields":[],"options":{},"is_static":false}],"options":{},"is_static":true}],"content":{"en":{"nav":[{"link":{"url":"/getting-started","label":"Getting Started"}},{"link":{"url":"/development","label":"Development"}},{"link":{"url":"/publishing","label":"Publishing"}}],"secondary_logo":{"url":"http://localhost:5173/primo-docs","label":"docs"}}},"site":"cd39839c-d242-4652-b902-768f8e669563"}],"version":2}